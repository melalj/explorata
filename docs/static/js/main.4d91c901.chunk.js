(this.webpackJsonpexplorata=this.webpackJsonpexplorata||[]).push([[0],{288:function(e,t,a){var n=a(354),r=["fbMessengerLoadDataset","fbMessengerQueryActivityPerDay","fbMessengerQueryActivityPerYear","fbMessengerQueryChatList","fbMessengerQueryChatMessages","fbMessengerQueryMostMessaged","fbMessengerQueryYears","fbMessengerGetFriends","fbMessengerQueryBestStreaks","fbMessengerQueryFriendProfile","fbMessengerQueryRatioSent"];e.exports=function(){var e=new Worker(a.p+"ad7dc58af935b3a052cf.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},309:function(e,t,a){e.exports=a.p+"static/media/instructionsRequest.cc5d8bdd.png"},310:function(e,t,a){e.exports=a.p+"static/media/instructionsDeselect.bfea5b70.png"},311:function(e,t,a){e.exports=a.p+"static/media/instructionsSelect.ef9dbcf1.png"},312:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWYAAAFACAYAAACP09Y9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABUuSURBVHgB7d0JcJzlecDxZ09pV5Il+UYcMZgk3MYYmzoMwY49TUjSNIQkTSEJkIG0ybQxKaFN27QcOdqBNMSl5GgZIFdzASl0chAwmHTAIbKDA8atE+wIG2yEkXWvpL3U9/m032olS7LWuh7r+/9mlv0srWQv4/3vq+c7HJKj1NjYuMbdnRsKhS7We3erK9wAIIja3K1Jb/39/b9x95tXrly5WY5CqJwHP/PMM3X5fH6D+02vEyIMAEfS5Bavm9Pp9M2rV69uGu8XjSvMhSDfWAiyJxqNSSKRlFg8LhWVCQmHw94NAILINVKy2Yzkslnp6+2VVE/KbWeKn3eBvne8gT5imLdu3brB3d0khRVyVVW1VFXXeDEGAIwune6Tro4O6e7u9D/U5AJ+86pVq+4d6+vGDPO2bdtu91fJFRUJmTt/gVspRwUAMH5Zt4ruaGstBtqtnr+8YsWKT472+BHDrKOLXC73I7e5RscTtbX1Uj2nVgAAR6+zo1062lu9sYezPRKJrF2+fHnb8MeNOBR2UX7c3a2JuNXxgkUNRBkAJkGNa+mi406QiNtH55xbWAAf5rAw6/hCv0CjvNBFOe527gEAJkfUa+txfpzXFJo7xJAwuwdcpTNlHV9olJknA8Dk07bOX7DQO5JNm9vY2Hhd6eeLM+YtW7YsicViOsJYUl8/j/EFAEwxnTm3tbboZpubN5/sz5uLK2YX5Rvd3RI9HI4oA8DU05lzRWWlbnrnivgf91bMhdXy73X7uONPYoQBANNED6U78PJeb9utmut11eytmAurZe/kEaIMANNHm1tVVeNtu0h7s2Z/lLFG/1M9h8tfAMB0q6qu9u5DodAG716vEud+8bgeHtfgxhgAgOl34OV93rU2+vv71+qKeY1+MJmsEgDAzKhMJP3Nc8NutbxMt/RaGACAmVFyMt8aXTEv0a0IO/0AYMb4V+wMh8PLimHmaAwAmDn+9ezdjLlOt+pKPwgAmH4lDa4rLpO7uroEAIJCQ6iTAosXamOZDCCQ9JrI6XRaUqmUXupYLCmumE9ZcqIAQBCk0xnp6k65W7dksznp6+uTZDIpVrBiBhA48XhM5tbXygkNx0nMjTP81bMVhBlAYIXDIS/QSi8mZAVhBhBoiYR32U3/3+EzgTADCDSLhwoTZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAAq2/v1+sIcwAAi2Xy3n34bCdHBJmAIHW09vn3UejUbGCMAMItI7OLm+1HI/HxQrCDCCwOru6JZPJSmVlpVhiZ+0OANNEY9ydSklXd48kk0mxphjmPU37BACCIBQKSSQS8W4WMcoAEDh6iFw2m5W+vj5JuZWztUPmiivmxYsWCADMdv5hcalUj3S5GXM2l5OeHlsjDVbMAAIln897t2QyIcc3LJZoNOL9OpPJiBWEGUAgeTF244x59XXerwkzABigcY7FY8VtKwgzgEDL57lWBgCYYmml7CPMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAY6KCCWtuz8umHVnZ9FxGdjfnBcDYli4Ky7qzY7LurKgsqmV9OBxhnqD9rXm55mspSaX7BcD46AJmd3OffPsXabnrz5PSUE+cS/F/Y4L+/dE+L8rhkAAog75m9LWjryEMRZgnqHF3zrvPs2AGyuK/ZvzXEAYR5gnq7qPIwETwGjocYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGRAXAjJhXE5b3/kFCetL98qNf9UhnD/8oKQYQ5gCrjIVk6eKI1CXDsve1nLzcmpN8XjBNPv3uarn4zApve2FtWL74UJe3/boFEbntQ7XFx33mex3y2/1ZQXAQ5oAJhUT+9MKEXOZWasfPi0g4NPi5dLZffvZMn3zl4W451EWhx+vBv5nrvcmNxwf/tVUOdgz8vz150eDL75SS7Xg0JEsWRoq/Hu/3xuxBmANkwZyw/OP7auSC18dH/LwG4V0rK2X9ORXy2fs6ZdNzfXIs+e4n6+XkBQN/pe/7ZU9xBTrV5laHpWKc8Sx9I/zaz7vlhndVS59bDN/9WLcAPsIcEGG3m/ffrqmTk0tWYv1upPniwZy82pHzVmzzawb2BScrQnLT+2vkpZac7DqGfoSOuOqFC7uzw8fAIvPRZ/tk8/N93vgoz3gZJQhzQLzngsSQKL/wSlau/0aHHHBzZaVBu3RVwlvB6bauAP/pijly2RcPeQE/kppEyI1CRPoyIz9YY19XFZZXdI5dRoSS8ZDMdyv99lS/u03+eEVHO4vrItLVm5+UnW8/3DL2Sn34/8tsTiZssp8DZh5hDoAqF8WPrk8Wf93q5sfXfrVNuvsGX8S6arvf/fivj/2LS6q8j53gZtBLF0flhQMDq2YdgehK2nfJ51vk/W9KyDtXVMppx0fl5UM5ufTWQ8XP62z042+rkjefHpfj6iNeQHSOvac5J19/pFue/L/0iH9eDbh+33evqiyu4lXK/Xkf/k2f3L2pW5rbByP9hcvneN+/oX7wsevOrpDTT4h527c92Ck7Xxq68l9xSkw+9tYqOfW4qBd/pbNf/TPd8dOuCQWuf5xf+qUra92fceAlqGOjckcvU/kcMLMIcwCcdVLMi53ve0/1DIlyqQee7pHLL0pItDALOOekwTDHowOHePnWnlUhn3IrbF/p9EB3Xv3Lh2vlxPmRId9f59ga8duvqvVWl7c9ODRG+v2//md1ctKwr1O66r7UxXrNGXG5YmOrvNY5EOfXuzDpkQyl6t3cV2+qunLo4foasyvXJA8bd+gMXt8MLjwtLtfd0y6/OzC1Y5y6qlDx/2d1ZXmzFyvPAVODE0wCYHgcHxtjp15Xb7+87XMtsv6W17zbA0/3jvrYW/5kYPWsK8RX2vLSWzLG+PvLaoq/b8718wk3S9VV8r7XBn92f9/qhFz4xqE7Ij/x9qpilPX76VEid21KSeML6eIIRIO74Z2DbwhNB7NegHQ17tOxh35Mb6mSNyFd9V+9djBoOsrR7/9ztxLPFP5oGre/e0+Nt8K3aDY8B4yNFXMAnDhvaJg1opNBg3vHT7pdEHq90YIfgT9cViHLXhcrPk7HJjv2Zbztux9LyT+72bWutpUG9sldg+MPnVM/tmPgjeOhxl55atfguENn3jqiULqS993wzQ7v/gfXz5UlhZXzIy5Stw5bjWvI/uqPBoP+pPve19/bXgy+rry/s6He2z7zxKisd7/XI8+Wd2TKGxui8qE3J0f83LY96cNGKuWajueAmUeYA2BR3eAPRroiHm0HXbn0eOcfuLGIz5+tvqlkFbxjb6YYZf8xD23tLYZZQ6o7Dv156Ofv7xz199NI+2HWmXK5FruvKd0B+v0ne4bsiNTV9f+6cPpz33Pcm0u5UdOvOafkTanUHT+RCYd5Op4DZh5hDoDXOgZXyLpzT+e8pT/2Hy0dL4ykdD68sDYid32sbsjnI8MGo/r45/cNDZbOxU9dHPE+V5sMezPY4XNkXaH3l/E0hs+tr3U7RK9ZN3R1u6B28E3sxPnlx3+qzYbngCMjzAGwt2SuqzFb5F64+1omfpzWaDsQG+aWhjns3caih3r5YdYdgzqf1pHAZGsYtso++6SYjP3nKn8XzNO/S3sjmJFMxo646XgOmHmEOQBeGhbhi86Iy3/+T8+Ij9UV9Q1/XC2RyMCqVk+C0B135WjpzHtnw6lf7Ey7H6V7x3z884VRh66Mv3RVbfEQOR27aOh+64Kmow6dn+pRGUerpeQ0c11p69mNmdzoS279/culb4JTOTqYjueAmUeYA0BXo7q61eiqKy5Kyn1bekccZ1y7vkreft5g/P7rVz1SLo2TRlTpiu3h7eML1flLY8Uo69z06jtbvTMTfVe/JSnjFR5hobj34OCKVX9y0Ng/sfPYmr/OhueAIyPMAaCHjunREH9ZOHFED6W689pa+dQ3OoacTaeHYemJHT49zOzZpoyU69kXM8WddG9wI4mli6Kyu3kwKHqM80fWVhVnxLc91OkFpnTkkcn2e2f7+WLuJ3i9ROZYsiUrx5F2wOlPDq3deakvHNN9yXkVh0VN43/KwoGXhc7QdUelJbPhOeDICHNA6N77yy6oLM5/9XC2hz4919uD39yec3v6o958t9Tn7u8sHhdbjvt/2SvvXZ0oHqanbwLfeiIlB1rz3pmEegKEvjmoX+/JFI/I0DMCfXpK+G0fniM//XWfd1TJW5dVFL9mNC+7aJ26eOA56L0eNqZvEt9/qkeaXs15z+XOn3XLZy4bOP76LWdVeGcN6qgm4X6aWP2GePFoEXU0Py1MtdnwHHBkhDkgdGyx4Z52+ewH5hQDnIiH5LxTdGU5dHWpq9j/eLTbmy8f7e/1hQc65dYP1nqHwum8ecM7qg97nJ4YoTNSX+PutGz/fUbOPXngz6NvHv7x0Po9f7ytV96xYvQZ849dxP3rGysdp+jt8R1pL8zqv93q8aLT4sXH6ZX09Dac/oSxbU/5Py1Mh9nwHDA2dtkGiM5rP/KVVvmmW72OtlNIX8hXudmunkk2Edt2Z+QDtx/yVnLDZ9mpdL+3gr/mq23e9TV8er2Ov/52hxeeXH7wY3qFu0/c3S6bd6bH/D31Sm3/8N0O77hp//np15fuHNM3nRu+1SG3/LBzxBNt9Djjv/1Oh3dJTqtmw3PA2EJbt271/taefsaZgvKtublTjlV6koYeK6zzyr1uDLDXhXsqLpCvhy0f70YoepU4vchOc1vuiCOSaGTg0DB9vP7TS0dDj9fWufNYV7PT46OXuDGOPk5HLVNxBbupNhuew+Yba2QmvdJ80Luvrq6WmbTvxT3ePaOMANNRgn/Zz6mkYdTjpss5dlovh1l6/PXRGM9JNLqy1rMTj2Wz4TlgKEYZAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwT1BVRUgAHD1eQ4cjzBO0cmnEuw/zdwsoi/+a8V9DGESYJ+ij6yskGQ9Jvl8AlEFfM/ra0dcQhooKJqShPiz3fDwpm3ZkZdNzGdndnBcAY1u6KCzrzo7JurOisqiW9eFwhHkS6F+syy+MezcAmCjeqgDAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgCBFg7byyBhBhBo4XBIrCHMAAJLV8uZdKa4bQVhBhBIGuJYNCotrW3er2OxmFgRFQAIEH9lnEr1SFdXt2RzuYFIWwzzK80HBQCCRqOcSCTEElbMAAInFApJJBLxbpZWyr5imKurqwUAMPPY+QcAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYE/U3Fs6vFwAIgkwmK13d3dLR2S2JREKsYcUMIHBisajU19XK3PpaSaVSks/nxRLCDCCwaqqrvEj39vaKJYQZQKDNqan2VszpdFqsIMwAAi1RWeHdZ7NZsYIwAwi0SCTi3VuaMxNmAIEWCoXEGsIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGM0zG26kcvlBAAwM0quB91WDLOlq/cDQNBksxl/s0nDvF23urq6BAAwM3KFxXF/f/+LYfefJ/QX+k94AwBmRsm/1L29uGJua2sTAMDM6O0pLo43h1euXLnZbbTpP93d2dkpAIDplU73+TPmJm2yd7icG2ds1PuWlhYBAEyvrs4O7z4UCm3Wey/M0Wj0y3qvYdaVMwBgeugRcd1dA9MK19+b9d4L8/Lly3XA7K2am5qaBAAwPTraW717t1q+d/Xq1U26XTzzLxKJ3OTu2nTO/OqrrwoAYGp1drT7q+Umf7WsimHWVbObNXuf2L9/P4fPAcAU0hGGv1rO5/M3+6tlNeRaGW5voM6aN+rp2bt372beDABTQKN8sPmAfxr2xlWrVt1b+vnDLmJ0/vnnX+fuNmuUd+3aRZwBYBJpUzXKhcPjtheaO8SIV5dz8+ZL9Qv0G+zcuZOZMwBMAp0pH2ze70d5s2vt2pEeFxrrm2zdulVHGxt0e968edLQ0CDxeFwAYDbZ07TPu6+urpapoKOLQy0Hpa+3x//QxpFWyr4xw6y2bdt2ldspeKPbXKK/1kAvXLhQksmkAMBsMFVh1utfpLo7i8cpO95BFoX9eaM6YpjVli1blujhdOFw+Er/Y7pyrqurk5qaGm+7oqJCRyACAMeayQiz7sjTm66KM5m09KRSpZfyVBu1o4XzRsY0rjD7SgJ9sRRW0ACAUekKeaOeXT2eIPvKCnOpxsbGNe5uTSgUWiYDkdZbnQBAMLUVbtsLl1PeXrhIXNn+Hw4vBTbUWmypAAAAAElFTkSuQmCC"},313:function(e,t,a){e.exports=a.p+"static/media/instructionsFilecreated.e356adc2.png"},343:function(e,t,a){e.exports=a(638)},637:function(e,t,a){},638:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_LOADING",(function(){return O})),a.d(n,"setLoading",(function(){return j})),a.d(n,"SET_CURRENT_REPORT",(function(){return Y})),a.d(n,"setCurrentReport",(function(){return C})),a.d(n,"SET_CURRENT_SCREEN",(function(){return S})),a.d(n,"setCurrentScreen",(function(){return N})),a.d(n,"SET_ERROR",(function(){return R})),a.d(n,"setError",(function(){return x})),a.d(n,"SHOW_FIRST_DRAWER",(function(){return G})),a.d(n,"showFirstDrawer",(function(){return B})),a.d(n,"HIDE_FIRST_DRAWER",(function(){return I})),a.d(n,"hideFirstDrawer",(function(){return F})),a.d(n,"SET_FIRST_DRAWER",(function(){return T})),a.d(n,"setFirstDrawer",(function(){return Q})),a.d(n,"SHOW_SECOND_DRAWER",(function(){return L})),a.d(n,"showSecondDrawer",(function(){return z})),a.d(n,"HIDE_SECOND_DRAWER",(function(){return P})),a.d(n,"hideSecondDrawer",(function(){return X})),a.d(n,"SET_SECOND_DRAWER",(function(){return H})),a.d(n,"setSecondDrawer",(function(){return W}));var r=a(0),s=a.n(r),i=a(11),c=a.n(i),o=a(24),l=a(14),u=a(15),m=a(17),d=a(16),p=a(18),f="FB_MESSENGER",h="DROPFILES",v="DASHBOARD",A="INSTRUCTIONS",E=(a(66),a(31)),y=a(5),b=a.n(y),g=a(19),w=a(317),D=a(2),M=a.n(D),k=a(12),O="SET_LOADING";function j(e){return{type:O,isLoading:e}}var Y="SET_CURRENT_REPORT";function C(e){return{type:Y,currentReport:e}}var S="SET_CURRENT_SCREEN";function N(e){return{type:S,currentScreen:e}}var R="SET_ERROR";function x(e){e&&console.error("[Client Side Error] ".concat(e.message));var t=e?[e.response?e.response.status:500,e.message]:null;return{type:R,error:t}}var G="SHOW_FIRST_DRAWER";function B(){return{type:G}}var I="HIDE_FIRST_DRAWER";function F(){return{type:I}}var T="SET_FIRST_DRAWER";function Q(e,t){return{type:T,visible:!0,typeDrawer:e,filters:t}}var L="SHOW_SECOND_DRAWER";function z(){return{type:L}}var P="HIDE_SECOND_DRAWER";function X(){return{type:P}}var H="SET_SECOND_DRAWER";function W(e,t){return{type:H,visible:!0,typeDrawer:e,filters:t}}var V,Z=a(288),U=a.n(Z);function q(){return V}var K=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleInstructionsClick",value:function(e){var t=this.props.goInstructions;e.stopPropagation(),t()}},{key:"dropHandler",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r,s,i,c,o,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.goReport,r=a.setError,s=a.setLoading,i=a.setCurrentReport,c=new RegExp(".*message.*.json"),(o=Array.from(t).filter((function(e){return c.test(e.webkitRelativePath)}))).length){e.next=6;break}return r("No valid file detected"),e.abrupt("return",null);case 6:return s(!0),e.next=9,Promise.all(o.map(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.webkitRelativePath,e.next=3,t.arrayBuffer();case 3:return r=e.sent,e.abrupt("return",{name:a,path:n,arrayBuffer:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:if(l=e.sent,u="FB_MESSENGER"){e.next=14;break}return r("No dataset detected"),e.abrupt("return",null);case 14:return e.next=16,q().fbMessengerLoadDataset(l);case 16:return i(u),s(!1),n(),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.isLoading?null:s.a.createElement("div",{className:"page"},s.a.createElement(w.a,{ref:this.dropzoneRef,onDrop:function(t){return e.dropHandler(t)},accept:".json",multiple:!0},(function(t){var a=t.isDragActive,n=t.getRootProps,r=t.getInputProps;return s.a.createElement("div",Object.assign({},n(),{className:M()("dropzone",{"is-active":a})}),s.a.createElement("input",Object.assign({},r(),{directory:"",webkitdirectory:"",nwdirectory:""})),s.a.createElement("p",null,a?"Yes! here...":"Drag and drop your \u201cmessages\u201d folder here..."),s.a.createElement("div",null,s.a.createElement(E.a,{type:"primary",size:"large"},"Choose from computer..."),s.a.createElement(E.a,{size:"large",onClick:function(t){return e.handleInstructionsClick(t)}},"Instructions to get your dataset")),s.a.createElement("div",{className:"disclaimer"},"Everything is analyzed locally right on your computer.",s.a.createElement("br",null),"Explorata do not store or send any information to any external server.",s.a.createElement("br",null),"The source code is available on",s.a.createElement("a",{onClick:function(e){return function(e){e.stopPropagation(),window&&window.open("https://www.github.com/melalj/explorata")}(e)}}," Github")))})))}}]),t}(s.a.Component);var J=Object(o.b)((function(e){return{error:e.error,isDatasetReady:e.isDatasetReady,isLoading:e.isLoading,currentScreen:e.currentScreen}}),(function(e){return Object(k.b)({setError:function(e){return x(e)},setLoading:function(e){return j(e)},goReport:function(){return N(v)},goInstructions:function(){return N(A)},setCurrentReport:function(e){return C(e)}},e)}))(K),_=(a(55),a(33));function $(){return s.a.createElement("div",{className:"loading"},s.a.createElement("div",null,s.a.createElement(_.a,{size:"large"}),s.a.createElement("br",null),"Prepare for a trip down memory lane..."))}a(162);var ee=a(42),te=(a(164),a(28)),ae=(a(221),a(145)),ne=(a(222),a(110)),re=a(39),se=a(51),ie=a.n(se),ce=a(36),oe=a.n(ce),le=a(301);a.n(le)()();var ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={dataActivity:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.year,e.next=3,q().fbMessengerQueryActivityPerDay(t);case 3:a=e.sent,this.setState({dataActivity:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.year,t.year===a){e.next=6;break}return e.next=4,q().fbMessengerQueryActivityPerDay(a);case 4:n=e.sent,this.setState({dataActivity:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){var t=this.props.setFirstDrawer;if(e&&e.activePayload&&e.activePayload[0]){var a=e.activePayload[0].payload;if(a&&a.time&&!Number.isNaN(a.time)){var n=oe()(a.time);n.add(1,"day"),t("ChatList",{dayFrom:oe()(a.time).format("YYYY-MM-DD"),dayTo:n.format("YYYY-MM-DD")})}}}},{key:"render",value:function(){var e=this,t=this.props.year,a=this.state.dataActivity;if(!a)return s.a.createElement(_.a,null);var n=function(e,t){for(var a=oe()(e),n=oe()(t),r=a,s=[];r.isBefore(n)||r.isSame(n);)s.push(r.format("YYYY-MM-DD")),r.add(1,"days");return s}("".concat(t,"-01-01"),"".concat(t,"-12-31")).map((function(e){var t=a[e],n=t?Number(t):0;return{time:new Date(e).getTime(),count:n}}));return s.a.createElement(re.f,{aspect:4,width:"100%"},s.a.createElement(re.b,{data:n,onClick:function(t){return e.handleClick(t)},margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(re.i,{domain:["dataMin","dataMax"],allowDecimals:!1,tickFormatter:function(e){return ie()(Number(e),{precision:0})}}),s.a.createElement(re.e,{vertical:!1,strokeDasharray:"3 3"}),s.a.createElement(re.g,{formatter:function(e){return["".concat(ie()(Number(e),{precision:0})," Messages")]},labelFormatter:function(e){return[oe()(e).format("YYYY-MM-DD")]}}),s.a.createElement(re.a,{type:"monotone",dataKey:"count",animationDuration:300,stroke:"#8F00FF",fillOpacity:.3,fill:"#8F00FF"}),s.a.createElement(re.h,{dataKey:"time",scale:"time",domain:["auto","auto"],tickCount:12,name:"Day",tickFormatter:function(e){return oe()(e).format("MMM DD")},type:"number"})))}}]),t}(s.a.Component);var me=Object(o.b)(null,(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)}},e)}))(ue),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={dataActivity:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q().fbMessengerQueryActivityPerYear();case 2:t=e.sent,this.setState({dataActivity:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){var t=this.props.onClick;e&&e.activePayload&&e.activePayload[0]&&t(e.activePayload[0].payload)}},{key:"render",value:function(){var e=this,t=this.state.dataActivity,a=this.props.years;if(!t)return s.a.createElement(_.a,null);var n=a.map((function(e){var a=t[String(e)];return{year:e,count:a?Number(a):0}}));return s.a.createElement("div",{style:{margin:10}},s.a.createElement(re.f,{aspect:4,width:"100%"},s.a.createElement(re.d,{data:n,onClick:function(t){return e.handleClick(t)},margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(re.i,{domain:["dataMin","dataMax"],name:"Messages",allowDecimals:!1,tickFormatter:function(e){return ie()(e,{precision:0})}}),s.a.createElement(re.e,{vertical:!1,strokeDasharray:"3 3"}),s.a.createElement(re.g,null),s.a.createElement(re.c,{dataKey:"count",fill:"#8F00FF",animationDuration:300,radius:[10,10,0,0]}),s.a.createElement(re.h,{dataKey:"year",name:"Year"}))))}}]),t}(r.Component),pe=ne.a.TabPane,fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={yearActivity:null,activeTab:"0"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t,a){var n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.activeTab,a.activeTab!==n&&(r=this.props.dataYears,s={yearActivity:0===n?null:r[n-1]},n||(s.dataActivity=null),this.setState(s));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"changeYearTab",value:function(e){var t=this.props.dataYears;this.setState({activeTab:"".concat(t.indexOf(e)+1)})}},{key:"handleTabChange",value:function(e){var t=this.props.dataYears,a={yearActivity:0===e?null:t[e-1]};e||(a.dataActivity=null),this.setState({activeTab:"".concat(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.yearActivity,n=t.activeTab,r=this.props.dataYears;return s.a.createElement("div",null,s.a.createElement("h2",null,"Messenger activity"),s.a.createElement(ne.a,{activeKey:n,size:"default",onChange:function(t){return e.handleTabChange(t)}},s.a.createElement(pe,{tab:"All time",key:"0"},s.a.createElement("br",null)),r.map((function(e,t){return s.a.createElement(pe,{tab:e,key:"".concat(t+1)},s.a.createElement("br",null))}))),a?s.a.createElement(me,{year:a}):s.a.createElement(de,{years:r,onClick:function(t){return e.changeYearTab(t.year)}}))}}]),t}(s.a.Component),he=(a(203),a(106)),ve=(a(137),a(32)),Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isReady:!1,yearMostMessaged:"All Time",dataMostMessaged:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.yearMostMessaged,e.next=3,q().fbMessengerQueryMostMessaged("All Time"===t?null:t);case 3:a=e.sent,this.setState({dataMostMessaged:a,isReady:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.yearMostMessaged,a.yearMostMessaged===n){e.next=6;break}return e.next=4,q().fbMessengerQueryMostMessaged("All Time"===n?null:n);case 4:r=e.sent,this.setState({dataMostMessaged:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleItemClick",value:function(e){(0,this.props.setFirstDrawer)("FriendProfile",{person:e.person})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataMostMessaged,n=t.isReady,r=t.yearMostMessaged,i=this.props.dataYears;if(!n||!a)return null;var c=[{title:"Name",dataIndex:"person",render:function(e){return s.a.createElement("a",null,e)}},{title:"#",dataIndex:"count",align:"right",render:function(e){return e.toLocaleString()}}];return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{style:{float:"right"}},s.a.createElement(ve.a,{defaultValue:r,size:"default",onChange:function(t){return a=t,void e.setState({yearMostMessaged:a});var a}},s.a.createElement(ve.a.Option,{key:"0",value:"All Time"},"All Time"),i.map((function(e){return s.a.createElement(ve.a.Option,{key:e,value:e},e)})))),s.a.createElement("h2",null,s.a.createElement("span",{role:"img","aria-label":"trophy",className:"emoji"},"\ud83c\udfc6"),"Most Messaged")),s.a.createElement(he.a,{columns:c,showHeader:!1,pagination:{pageSize:5},onRow:function(t){return{onClick:function(){return e.handleItemClick(t)}}},rowKey:"person",dataSource:a,size:"default"}))}}]),t}(s.a.Component);var Ee=Object(o.b)(null,(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)}},e)}))(Ae),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isReady:!1,yearBestStreaks:"All Time",dataBestStreaks:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.yearBestStreaks,e.next=3,q().fbMessengerQueryBestStreaks("All Time"===t?null:t);case 3:a=e.sent,this.setState({dataBestStreaks:a,isReady:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.yearBestStreaks,a.yearBestStreaks===n){e.next=6;break}return e.next=4,q().fbMessengerQueryBestStreaks("All Time"===n?null:n);case 4:r=e.sent,this.setState({dataBestStreaks:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){var t=this.props.setFirstDrawer,a=oe()(e.streakFrom);a.add(e.streak,"days"),t("ChatList",{dayFrom:e.streakFrom,person:e.person,dayTo:a.format("YYYY-MM-DD")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataBestStreaks,n=t.isReady,r=t.yearBestStreaks,i=this.props.dataYears;if(!n||!a)return null;var c=[{title:"Name",dataIndex:"person",render:function(e){return s.a.createElement("a",null,e)}},{title:"#",align:"right",render:function(e,t){return s.a.createElement("div",null,s.a.createElement("b",null,"".concat(t.streak," days")),s.a.createElement("br",null),"from ".concat(t.streakFrom))}}];return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{style:{float:"right"}},s.a.createElement(ve.a,{defaultValue:r,size:"default",onChange:function(t){return a=t,void e.setState({yearBestStreaks:a});var a}},s.a.createElement(ve.a.Option,{key:"0",value:"All Time"},"All Time"),i.map((function(e){return s.a.createElement(ve.a.Option,{key:e,value:e},e)})))),s.a.createElement("h2",null,s.a.createElement("span",{role:"img","aria-label":"emoji",className:"emoji"},"\ud83d\udd25"),"Best Streaks")),s.a.createElement(he.a,{columns:c,showHeader:!1,onRow:function(t){return{onClick:function(){return e.handleClick(t)}}},rowKey:"key",pagination:{pageSize:4},dataSource:a,size:"default"}))}}]),t}(s.a.Component);var be=Object(o.b)(null,(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)}},e)}))(ye),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isReady:!1,typeRatioSent:"messages",yearRatioSent:"All Time",dataRatioSent:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.yearRatioSent,n=t.typeRatioSent,r=this.props.isGhosters,e.next=4,q().fbMessengerQueryRatioSent("All Time"===a?null:a,n,r);case 4:s=e.sent,this.setState({dataRatioSent:s,isReady:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t,a){var n,r,s,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.yearRatioSent,s=n.typeRatioSent,i=this.props.isGhosters,a.yearRatioSent===r&&a.typeRatioSent===s){e.next=7;break}return e.next=5,q().fbMessengerQueryRatioSent("All Time"===r?null:r,s,i);case 5:c=e.sent,this.setState({dataRatioSent:c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleItemClick",value:function(e){(0,this.props.setFirstDrawer)("FriendProfile",{person:e.person})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataRatioSent,n=t.isReady,r=t.yearRatioSent,i=t.typeRatioSent,c=this.props,o=c.dataYears,l=c.isGhosters;if(!n||!a)return null;var u=[{title:"Name",dataIndex:"person",render:function(e){return s.a.createElement("a",null,e)}},{title:"#",dataIndex:"ratio",align:"right",render:function(e,t){return"".concat(Number(t.ratio||0).toFixed(2)," for 1")}}];return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{style:{float:"right"}},s.a.createElement(ve.a,{defaultValue:i,size:"default",onChange:function(t){return a=t,void e.setState({typeRatioSent:a});var a}},s.a.createElement(ve.a.Option,{key:"type-0",value:"messages"},"Messages"),s.a.createElement(ve.a.Option,{key:"type-1",value:"emoji"},"Emojis"),s.a.createElement(ve.a.Option,{key:"type-2",value:"photos"},"Photos"),s.a.createElement(ve.a.Option,{key:"type-3",value:"gifs"},"GIFs")),s.a.createElement(ve.a,{defaultValue:r,size:"default",onChange:function(t){return a=t,void e.setState({yearRatioSent:a});var a}},s.a.createElement(ve.a.Option,{key:"0",value:"All Time"},"All Time"),o.map((function(e){return s.a.createElement(ve.a.Option,{key:e,value:e},e)})))),s.a.createElement("h2",null,s.a.createElement("span",{role:"img","aria-label":"emoji",className:"emoji"},l?"\ud83d\udc7b":"\ud83d\udde3"),l?"Ghosters":"Talkers")),s.a.createElement(he.a,{columns:u,rowKey:"person",pagination:{pageSize:5},onRow:function(t){return{onClick:function(){return e.handleItemClick(t)}}},showHeader:!1,dataSource:a,size:"default"}))}}]),t}(s.a.Component);var we=Object(o.b)(null,(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)}},e)}))(ge),De=(a(592),a(209)),Me=(a(594),a(151)),ke=(a(596),a(305)),Oe=a(88),je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={dataChatList:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.firstDrawer,e.next=3,q().fbMessengerQueryChatList(t.filters);case 3:a=e.sent,this.setState({dataChatList:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.firstDrawer,t.firstDrawer.filters===a.filters){e.next=7;break}return this.setState({dataChatList:null}),e.next=5,q().fbMessengerQueryChatList(a.filters);case 5:n=e.sent,this.setState({dataChatList:n});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleItemClick",value:function(e){var t=this.props,a=t.firstDrawer;(0,t.setSecondDrawer)("ChatMessages",Object(Oe.a)({},a.filters,{person:e.person}))}},{key:"handleProfileClick",value:function(e){(0,this.props.setFirstDrawer)("FriendProfile",{person:e})}},{key:"render",value:function(){var e=this,t=this.state.dataChatList;return t?s.a.createElement(Me.a,{dataSource:t,bordered:!0,renderItem:function(t){return s.a.createElement(Me.a.Item,{key:t.id,actions:[s.a.createElement(E.a,{key:"profile",onClick:function(){return e.handleProfileClick(t.person)}},"Profile"),s.a.createElement(E.a,{key:"messages",type:"primary",onClick:function(){return e.handleItemClick(t)}},"Read messages")]},s.a.createElement(Me.a.Item.Meta,{avatar:s.a.createElement(ke.a,null,t.person.substr(0,1).toUpperCase()),title:s.a.createElement("a",null,t.person),description:"".concat(t.count," messages")}))}}):s.a.createElement(_.a,null)}}]),t}(s.a.Component);var Ye=Object(o.b)((function(e){return{firstDrawer:e.firstDrawer}}),(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)},setSecondDrawer:function(e,t){return W(e,t)}},e)}))(je),Ce=(a(136),a(74)),Se=(a(598),a(316).a.RangePicker),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).modelQuery=e.modelQuery,a.state={data:null,dayFrom:e.secondDrawer.filters.dayFrom||null,dayTo:e.secondDrawer.filters.dayTo||null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.dayFrom,n=t.dayTo,e.next=3,q().fbMessengerQueryChatMessages(this.getFilters());case 3:r=e.sent,s={data:r},a||(s.dayFrom=r[0].day),n||(s.dayTo=r[r.length-1].day),this.setState(s);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t,a){var n,r,s,i,c,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.secondDrawer,r=this.state,s=r.dayFrom,i=r.dayTo,c=r.data,t.secondDrawer.filters!==n.filters&&this.setState({data:null,dayFrom:n.filters.dayFrom||null,dayTo:n.filters.dayTo||null}),a.dayFrom===s&&a.dayTo===i&&(!a.data||c)){e.next=12;break}return this.setState({data:null}),e.next=7,q().fbMessengerQueryChatMessages(this.getFilters());case 7:o=e.sent,l={data:o},s||(l.dayFrom=o[0].day),i||(l.dayTo=o[o.length-1].day),this.setState(l);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getFilters",value:function(){var e=this.state,t=e.dayFrom,a=e.dayTo;return{person:this.props.secondDrawer.filters.person,dayFrom:t,dayTo:a}}},{key:"getChatlist",value:function(){var e=this.state.data;return e?e.length?e.slice(0,5e3).map((function(t,a){var n=t.sender?"sender":"receiver",r=a>0&&a<e.length-1&&e[a][n]===e[a+1][n]&&e[a][n]===e[a-1][n],i=!r&&(0===a||e[a][n]!==e[a-1][n]),c=M()("bubble",{sender:t.sender,recipient:t.receiver,first:i,last:!i&&(a===e.length-1||e[a][n]!==e[a+1][n]),middle:r});return s.a.createElement("div",{className:"chatrow",key:"chat-".concat(a)},i?s.a.createElement("div",{className:"time"},oe()(t.timestamp).format("YYYY-MM-DD LTS")):null,s.a.createElement("div",{className:c},t.content))})):s.a.createElement(Ce.a,null):s.a.createElement(_.a,null)}},{key:"handleDateChange",value:function(e){e&&e[0]&&e[1]&&this.setState({dayFrom:e[0].format("YYYY-MM-DD"),dayTo:e[1].format("YYYY-MM-DD")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dayFrom,n=t.dayTo;return s.a.createElement("section",{className:"discussion"},s.a.createElement("div",{align:"center"},s.a.createElement(Se,{value:a?[oe()(a,"YYYY-MM-DD"),oe()(n,"YYYY-MM-DD")]:[],onCalendarChange:function(t){return e.handleDateChange(t)}})),s.a.createElement(ae.a,null),this.getChatlist())}}]),t}(s.a.Component);var Re=Object(o.b)((function(e){return{secondDrawer:e.secondDrawer}}))(Ne),xe=(a(276),a(111)),Ge=(a(620),a(65)),Be=(a(622),a(64)),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).mounted=!1,a.state={dataFriendProfile:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.firstDrawer,e.next=3,q().fbMessengerQueryFriendProfile(t.filters.person);case 3:a=e.sent,this.setState({dataFriendProfile:a}),this.mounted=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mounted){e.next=2;break}return e.abrupt("return");case 2:if(a=this.props.firstDrawer,t.firstDrawer.filters===a.filters){e.next=9;break}return this.setState({dataFriendProfile:null}),e.next=7,q().fbMessengerQueryFriendProfile(a.filters.person);case 7:n=e.sent,this.setState({dataFriendProfile:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleOpenConversationClick",value:function(){var e=this.props,t=e.firstDrawer;(0,e.setSecondDrawer)("ChatMessages",t.filters)}},{key:"handleReadStreakClick",value:function(e){var t=e.streak,a=e.streakFrom,n=this.props,r=n.firstDrawer,s=n.setSecondDrawer,i=r.filters.person,c=oe()(a);c.add(t,"days"),s("ChatMessages",{dayFrom:a,person:i,dayTo:c.format("YYYY-MM-DD")})}},{key:"render",value:function(){var e=this,t=this.state.dataFriendProfile;if(!t)return s.a.createElement(_.a,null);var a=t;return s.a.createElement("div",null,s.a.createElement("h2",null,"Messages"),s.a.createElement(ee.a,{gutter:[16,16]},s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"First Message",value:a.firstMessage,formatter:function(e){return new Date(e).toISOString().split("T")[0]}}),s.a.createElement("br",null))),s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Best streak",suffix:"days",value:a.streak}),s.a.createElement(xe.a,{color:"purple"},"started on ".concat(a.streakFrom)),s.a.createElement("a",{onClick:function(){return e.handleReadStreakClick(a)}},"Read")))),s.a.createElement(ee.a,{gutter:[16,16]},s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Sent",value:a.messagesSent,suffix:"messages",formatter:function(e){return ie()(e,{precision:1})}}))),s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Received",suffix:"messages",value:a.messagesReceived,formatter:function(e){return ie()(e,{precision:1})}})))),s.a.createElement("div",{align:"center"},s.a.createElement(E.a,{size:"large",type:"primary",onClick:function(){return e.handleOpenConversationClick()}},"Read all messages")),s.a.createElement("h2",null,"Emoji"),s.a.createElement(ee.a,{gutter:[16,16]},s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Most Sent",value:"".concat(a.mostSentEmoji.length?a.mostSentEmoji.slice(0,3).map((function(e){return e[0]})).join(" "):"N/A")}),s.a.createElement(xe.a,{color:"purple"},"".concat(a.emojiSent," total")))),s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Most Received",value:"".concat(a.mostReceivedEmoji.length?a.mostReceivedEmoji.slice(0,3).map((function(e){return e[0]})).join(" "):"N/A")}),s.a.createElement(xe.a,{color:"purple"},"".concat(a.emojiReceived," total"))))),s.a.createElement("h2",null,"GIF"),s.a.createElement(ee.a,{gutter:[16,16]},s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Sent",suffix:"GIFs",value:a.gifSent,formatter:function(e){return ie()(e,{precision:0})}}))),s.a.createElement(te.a,{span:12},s.a.createElement(Ge.a,null,s.a.createElement(Be.a,{title:"Received",suffix:"GIFs",value:a.gifReceived,formatter:function(e){return ie()(e,{precision:0})}})))))}}]),t}(s.a.Component);var Fe=Object(o.b)((function(e){return{firstDrawer:e.firstDrawer}}),(function(e){return Object(k.b)({setSecondDrawer:function(e,t){return W(e,t)}},e)}))(Ie),Te=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getFirstDrawerTitle",value:function(){var e=this.props.firstDrawer,t=e.typeDrawer,a=e.filters;return"ChatList"===t&&a?a.dayFrom?"Threads from ".concat(a.dayFrom," to ").concat(a.dayTo):"Threads":"FriendProfile"===t&&a&&a.person?"".concat(a.person," Report"):null}},{key:"getSecondDrawerTitle",value:function(){var e=this.props.secondDrawer,t=e.typeDrawer,a=e.filters;return"ChatMessages"===t&&a&&a.person?"".concat(a.person," \u2022 Messages"):null}},{key:"getFirstDrawerContent",value:function(){var e=this.props.firstDrawer,t=e.typeDrawer,a=e.filters;return"ChatList"===t&&a?s.a.createElement(Ye,null):"FriendProfile"===t&&a?s.a.createElement(Fe,null):null}},{key:"getSecondDrawerContent",value:function(){var e=this.props.secondDrawer,t=e.typeDrawer,a=e.filters;return"ChatMessages"===t&&a&&a.person?s.a.createElement(Re,null):null}},{key:"render",value:function(){var e=this.props,t=e.firstDrawer,a=e.secondDrawer,n=e.hideFirstDrawer,r=e.hideSecondDrawer;return s.a.createElement(De.a,{title:this.getFirstDrawerTitle(),width:700,closable:!1,onClose:n,visible:t.visible},this.getFirstDrawerContent(),s.a.createElement(De.a,{title:this.getSecondDrawerTitle(),width:600,closable:!0,onClose:r,visible:a.visible},this.getSecondDrawerContent()))}}]),t}(s.a.Component);var Qe=Object(o.b)((function(e){return{firstDrawer:e.firstDrawer,secondDrawer:e.secondDrawer}}),(function(e){return Object(k.b)({hideFirstDrawer:function(){return F()},setFirstDrawer:function(e,t){return Q(e,t)},hideSecondDrawer:function(){return X()},setSecondDrawer:function(e,t){return W(e,t)}},e)}))(Te),Le=(a(273),a(107)),ze=(a(639),a(52)),Pe=(a(634),a(315).a.Search),Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={searchValue:null,menuVisible:!1,dataSearchFriend:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q().fbMessengerGetFriends();case 2:t=e.sent,this.setState({dataSearchFriend:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMenu",value:function(){var e=this,t=this.state,a=t.dataSearchFriend,n=t.searchValue;return s.a.createElement(ze.a,null,a.filter((function(e){return!n||-1!==e.toLowerCase().indexOf(n.toLowerCase())})).slice(0,5).map((function(t){return s.a.createElement(ze.a.Item,{onClick:function(){return e.handleItemClick(t)},key:t},t)})))}},{key:"handleItemClick",value:function(e){(0,this.props.setFirstDrawer)("FriendProfile",{person:e})}},{key:"hideMenu",value:function(){var e=this;clearTimeout(this.hideTimer),this.hideTimer=setTimeout((function(){return e.setState({menuVisible:!1})}),200)}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSearchFriend,n=t.menuVisible;return a?s.a.createElement(Le.a,{overlay:this.getMenu(),visible:n},s.a.createElement(Pe,{placeholder:"Search a friend...",onChange:function(t){return e.setState({searchValue:t.target.value})},onFocus:function(){return e.setState({menuVisible:!0})},onBlur:function(){return e.hideMenu()},size:"large"})):s.a.createElement(_.a,null)}}]),t}(s.a.Component);var He=Object(o.b)((function(e){return{firstDrawer:e.firstDrawer}}),(function(e){return Object(k.b)({setFirstDrawer:function(e,t){return Q(e,t)}},e)}))(Xe),We=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={dataYears:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q().fbMessengerQueryYears();case 2:t=e.sent,this.setState({dataYears:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.dataYears;return e?s.a.createElement("div",null,s.a.createElement(Qe,null),s.a.createElement(ae.a,null),s.a.createElement(He,null),s.a.createElement(fe,{dataYears:e}),s.a.createElement("br",null),s.a.createElement(ee.a,{gutter:28},s.a.createElement(te.a,{span:12},s.a.createElement(Ee,{dataYears:e})),s.a.createElement(te.a,{span:12},s.a.createElement(be,{dataYears:e}))),s.a.createElement(ee.a,{gutter:28},s.a.createElement(te.a,{span:12},s.a.createElement(we,{dataYears:e})),s.a.createElement(te.a,{span:12},s.a.createElement(we,{dataYears:e,isGhosters:!0})))):null}}]),t}(s.a.Component);var Ve=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getReportView",value:function(){return this.props.currentReport===f?s.a.createElement(We,null):null}},{key:"render",value:function(){var e=this.props,t=e.currentReport,a=e.goDropfiles;return e.isLoading?null:s.a.createElement("div",{className:"page"},s.a.createElement("div",null,s.a.createElement("div",{style:{float:"right"}},s.a.createElement(E.a,{onClick:function(){window&&window.open("https://www.github.com/melalj/explorata")}},"Contribute on Github"),s.a.createElement(E.a,{onClick:function(){return a()}},"Upload new dataset")),s.a.createElement("p",null,"Facebook Messenger Report generated by",s.a.createElement("a",{onClick:function(){window&&window.open("https://explorata.io")}}," ","Explorata.io"))),t?this.getReportView():null)}}]),t}(s.a.Component);var Ze=Object(o.b)((function(e){return{currentReport:e.currentReport,isLoading:e.isLoading}}),(function(e){return Object(k.b)({goDropfiles:function(){return N(h)},setLoading:function(e){return j(e)},setError:function(e){return x(e)}},e)}))(Ve),Ue=a(309),qe=a.n(Ue),Ke=a(310),Je=a.n(Ke),_e=a(311),$e=a.n(_e),et=a(312),tt=a.n(et),at=a(313),nt=a.n(at),rt=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.goDropfile;return s.a.createElement("div",{className:"page instructions"},s.a.createElement("div",null,s.a.createElement("h1",null,"How to get your data from Facebook"),s.a.createElement("div",{className:"ant-steps ant-steps-vertical"},s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"1")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Go to ",s.a.createElement("a",{href:"https://facebook.com/dyi",target:"blank",rel:"noopener noereferrer"},"facebook.com/dyi"))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"2")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Click on \u201cDownload Your Information\u201d")))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"3")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Under \u201cRequest Copy\u201d, choose \u2018JSON\u2019 for \u2018Format\u2019 and \u2018Low\u2019 for \u2018Media Quality\u2019, like so:"),s.a.createElement("div",{className:"ant-steps-item-description"},s.a.createElement("img",{src:qe.a,alt:"Instructions"}))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"4")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Scroll to \u201cYour information\u201d and click on \u201cDeselect All\u201d"),s.a.createElement("div",{className:"ant-steps-item-description"},s.a.createElement("img",{src:Je.a,alt:"Instructions"}))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"5")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Scroll to \u2018Messages\u2019 and click on the checkbox."),s.a.createElement("div",{className:"ant-steps-item-description"},s.a.createElement("img",{src:$e.a,alt:"Instructions"}))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"6")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Scroll up to the top and click on \u2018Create File\u2019"),s.a.createElement("div",{className:"ant-steps-item-description"},s.a.createElement("img",{src:tt.a,alt:"Instructions",style:{width:200}}))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"},"7")),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},"Well done! You should see this banner under \u2018Request Copy\u2019"),s.a.createElement("div",{className:"ant-steps-item-description"},s.a.createElement("img",{src:nt.a,alt:"Instructions"}))))),s.a.createElement("div",{className:"ant-steps-item ant-steps-item-process ant-steps-item-active"},s.a.createElement("div",{role:"button",className:"ant-steps-item-container"},s.a.createElement("div",{className:"ant-steps-item-tail"}),s.a.createElement("div",{className:"ant-steps-item-icon"},s.a.createElement("span",{className:"ant-steps-icon"})),s.a.createElement("div",{className:"ant-steps-item-content"},s.a.createElement("div",{className:"ant-steps-item-title"},s.a.createElement("p",null,"Now, we just have to wait until Facebook creates your file (up to 6 hours). Facebook will send you both a notification and an email when the file is ready."),s.a.createElement("p",null,"Finally, download your file and then unzip it. You just have to drag the \u2018messages\u2019 folder onto Explorata!")))))),s.a.createElement(E.a,{type:"primary",onClick:function(){return e()}},"Back")))}}]),t}(s.a.Component);var st=Object(o.b)(null,(function(e){return Object(k.b)({goDropfile:function(){return N(h)}},e)}))(rt),it=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getCurrentScreen",value:function(){var e=this.props.currentScreen;return e===A?s.a.createElement(st,null):e===v?s.a.createElement(Ze,null):s.a.createElement(J,null)}},{key:"render",value:function(){var e=this.props.isLoading;return s.a.createElement("div",{className:"App"},e?s.a.createElement($,null):null,this.getCurrentScreen())}}]),t}(s.a.Component);var ct=Object(o.b)((function(e){return{isLoading:e.isLoading,currentScreen:e.currentScreen}}))(it),ot=function(e){var t=e.store;return s.a.createElement(o.a,{store:t},s.a.createElement(ct,null))},lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var mt=a(146),dt=(a(314),{isLoading:!1,currentScreen:null,currentReport:null,error:null,firstDrawer:{visible:!1},secondDrawer:{visible:!1}});function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.isLoading,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.isLoading;default:return e}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.currentScreen,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.currentScreen;default:return e}}function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.currentReport,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return t.currentReport;default:return e}}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.error,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.error;default:return e}}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.firstDrawer,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Oe.a)({},e,{visible:!0});case I:return Object(Oe.a)({},e,{visible:!1});case T:return{visible:t.visible,typeDrawer:t.typeDrawer,filters:t.filters};default:return e}}function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.secondDrawer,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Oe.a)({},e,{visible:!0});case P:return Object(Oe.a)({},e,{visible:!1});case H:return{visible:t.visible,typeDrawer:t.typeDrawer,filters:t.filters};default:return e}}var yt=function(){return Object(k.c)({isLoading:pt,currentReport:ht,error:vt,currentScreen:ft,firstDrawer:At,secondDrawer:Et})},bt=(yt(),yt()),gt=Object(k.a)(mt.a);var wt=function(e){return Object(k.e)(bt,e,gt)},Dt=(a(636),a(637),wt());V=U()(),c.a.render(s.a.createElement(ot,{store:Dt}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");lt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ut(t,e)}))}}()}},[[343,1,2]]]);
//# sourceMappingURL=main.4d91c901.chunk.js.map