{"version":3,"sources":["plugins/FB_MESSENGER/modelWorker.js","images/instructionsRequest.png","images/instructionsDeselect.png","images/instructionsSelect.png","images/instructionsCreate.png","images/instructionsFilecreated.png","constants.js","state/actions.js","utils/worker.js","components/Dropfiles.jsx","components/Loading.jsx","utils/index.js","plugins/FB_MESSENGER/components/ActivityPerDay.jsx","plugins/FB_MESSENGER/components/ActivityPerYear.jsx","plugins/FB_MESSENGER/components/MessengerActivity.jsx","plugins/FB_MESSENGER/components/MostMessaged.jsx","plugins/FB_MESSENGER/components/BestStreaks.jsx","plugins/FB_MESSENGER/components/RatioSent.jsx","plugins/FB_MESSENGER/components/ChatList.jsx","plugins/FB_MESSENGER/components/ChatMessages.jsx","plugins/FB_MESSENGER/components/FriendProfile.jsx","plugins/FB_MESSENGER/components/Drawers.jsx","plugins/FB_MESSENGER/components/SearchFriend.jsx","plugins/FB_MESSENGER/view.jsx","components/Dashboard.jsx","components/Instructions.jsx","components/App.jsx","components/Root.jsx","serviceWorker.js","state/initial.js","state/reducers.js","state/store/configureStore.prod.js","state/store/configureStore.dev.js","state/store/configureStore.js","index.js"],"names":["addMethods","methods","module","exports","w","Worker","name","reports","screens","SET_LOADING","setLoading","isLoading","type","SET_CURRENT_REPORT","setCurrentReport","currentReport","SET_CURRENT_SCREEN","setCurrentScreen","currentScreen","SET_ERROR","setError","err","console","error","message","response","status","SHOW_FIRST_DRAWER","showFirstDrawer","HIDE_FIRST_DRAWER","hideFirstDrawer","SET_FIRST_DRAWER","setFirstDrawer","typeDrawer","filters","visible","SHOW_SECOND_DRAWER","showSecondDrawer","HIDE_SECOND_DRAWER","hideSecondDrawer","SET_SECOND_DRAWER","setSecondDrawer","instance","getWorker","Dropfiles","e","goInstructions","this","props","stopPropagation","files","goReport","checkFile","RegExp","validFiles","Array","from","filter","d","test","webkitRelativePath","length","Promise","all","map","file","a","arrayBuffer","path","filesArrayBuffer","datasetName","fbMessengerLoadDataset","className","ref","dropzoneRef","onDrop","f","dropHandler","accept","multiple","isDragActive","getRootProps","getInputProps","classNames","directory","webkitdirectory","nwdirectory","size","onClick","handleInstructionsClick","href","rel","target","React","Component","connect","state","isDatasetReady","dispatch","bindActionCreators","Actions","c","r","Loading","emojiRegexLib","ActivityPerYear","dataActivity","year","fbMessengerQueryActivityPerDay","setState","prevProps","activeItem","activePayload","payload","time","Number","isNaN","dayTo","moment","add","dayFrom","format","data","startDate","endDate","mStartDate","mEndDate","now","dates","isBefore","isSame","push","enumerateDaysBetweenDates","row","count","Date","getTime","aspect","width","handleClick","margin","top","right","left","bottom","domain","allowDecimals","tickFormatter","v","millify","precision","vertical","strokeDasharray","formatter","labelFormatter","dataKey","animationDuration","stroke","fillOpacity","fill","scale","tickCount","t","fbMessengerQueryActivityPerYear","years","String","style","radius","TabPane","MessengerActivity","yearActivity","activeTab","prevState","dataYears","toUpdate","y","indexOf","i","activeKey","onChange","handleTabChange","tab","key","ActivityPerDay","changeYearTab","MostMessaged","isReady","yearMostMessaged","dataMostMessaged","fbMessengerQueryMostMessaged","person","columns","title","dataIndex","render","text","align","toLocaleString","float","defaultValue","k","Option","value","role","aria-label","showHeader","pagination","pageSize","onRow","record","handleItemClick","rowKey","dataSource","BestStreaks","yearBestStreaks","dataBestStreaks","fbMessengerQueryBestStreaks","streakFrom","streak","RatioSent","typeRatioSent","yearRatioSent","dataRatioSent","isGhosters","fbMessengerQueryRatioSent","ratio","toFixed","ChatList","dataChatList","firstDrawer","fbMessengerQueryChatList","bordered","renderItem","item","Item","id","actions","handleProfileClick","Meta","avatar","substr","toUpperCase","description","RangePicker","ChatMessages","modelQuery","secondDrawer","fbMessengerQueryChatMessages","getFilters","day","newData","slice","p","sender","isMiddle","isFirst","bubbleClassNames","recipient","receiver","first","last","middle","timestamp","content","onCalendarChange","handleDateChange","getChatlist","FriendProfile","mounted","dataFriendProfile","fbMessengerQueryFriendProfile","dt","gutter","span","firstMessage","toISOString","split","suffix","color","handleReadStreakClick","messagesSent","messagesReceived","handleOpenConversationClick","mostSentEmoji","join","emojiSent","mostReceivedEmoji","emojiReceived","gifSent","gifReceived","Drawers","getFirstDrawerTitle","closable","onClose","getFirstDrawerContent","getSecondDrawerTitle","getSecondDrawerContent","Search","SearchFriend","searchValue","menuVisible","dataSearchFriend","fbMessengerGetFriends","toLowerCase","clearTimeout","hideTimer","setTimeout","overlay","getMenu","placeholder","onFocus","onBlur","hideMenu","ViewFbMessenger","fbMessengerQueryYears","Dashboard","goDropfiles","window","open","getReportView","Instructions","goDropfile","src","instructionsRequest","alt","instructionsDeselect","instructionsSelect","instructionsCreate","instructionsFilecreated","App","getCurrentScreen","Root","store","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","initial","action","combineReducers","rootReducer","createRootReducer","enhancer","applyMiddleware","thunk","configureStore","selectedConfigureStore","initialState","createStore","modelWorker","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","headers","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.18f9b20a.chunk.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"fbMessengerLoadDataset\",\"fbMessengerQueryActivityPerDay\",\"fbMessengerQueryActivityPerYear\",\"fbMessengerQueryChatList\",\"fbMessengerQueryChatMessages\",\"fbMessengerQueryMostMessaged\",\"fbMessengerQueryYears\",\"fbMessengerGetFriends\",\"fbMessengerQueryBestStreaks\",\"fbMessengerQueryFriendProfile\",\"fbMessengerQueryRatioSent\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"787801e0a27e9bc28646.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","module.exports = __webpack_public_path__ + \"static/media/instructionsRequest.cc5d8bdd.png\";","module.exports = __webpack_public_path__ + \"static/media/instructionsDeselect.bfea5b70.png\";","module.exports = __webpack_public_path__ + \"static/media/instructionsSelect.ef9dbcf1.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWYAAAFACAYAAACP09Y9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABUuSURBVHgB7d0JcJzlecDxZ09pV5Il+UYcMZgk3MYYmzoMwY49TUjSNIQkTSEJkIG0ybQxKaFN27QcOdqBNMSl5GgZIFdzASl0chAwmHTAIbKDA8atE+wIG2yEkXWvpL3U9/m032olS7LWuh7r+/9mlv0srWQv4/3vq+c7HJKj1NjYuMbdnRsKhS7We3erK9wAIIja3K1Jb/39/b9x95tXrly5WY5CqJwHP/PMM3X5fH6D+02vEyIMAEfS5Bavm9Pp9M2rV69uGu8XjSvMhSDfWAiyJxqNSSKRlFg8LhWVCQmHw94NAILINVKy2Yzkslnp6+2VVE/KbWeKn3eBvne8gT5imLdu3brB3d0khRVyVVW1VFXXeDEGAIwune6Tro4O6e7u9D/U5AJ+86pVq+4d6+vGDPO2bdtu91fJFRUJmTt/gVspRwUAMH5Zt4ruaGstBtqtnr+8YsWKT472+BHDrKOLXC73I7e5RscTtbX1Uj2nVgAAR6+zo1062lu9sYezPRKJrF2+fHnb8MeNOBR2UX7c3a2JuNXxgkUNRBkAJkGNa+mi406QiNtH55xbWAAf5rAw6/hCv0CjvNBFOe527gEAJkfUa+txfpzXFJo7xJAwuwdcpTNlHV9olJknA8Dk07bOX7DQO5JNm9vY2Hhd6eeLM+YtW7YsicViOsJYUl8/j/EFAEwxnTm3tbboZpubN5/sz5uLK2YX5Rvd3RI9HI4oA8DU05lzRWWlbnrnivgf91bMhdXy73X7uONPYoQBANNED6U78PJeb9utmut11eytmAurZe/kEaIMANNHm1tVVeNtu0h7s2Z/lLFG/1M9h8tfAMB0q6qu9u5DodAG716vEud+8bgeHtfgxhgAgOl34OV93rU2+vv71+qKeY1+MJmsEgDAzKhMJP3Nc8NutbxMt/RaGACAmVFyMt8aXTEv0a0IO/0AYMb4V+wMh8PLimHmaAwAmDn+9ezdjLlOt+pKPwgAmH4lDa4rLpO7uroEAIJCQ6iTAosXamOZDCCQ9JrI6XRaUqmUXupYLCmumE9ZcqIAQBCk0xnp6k65W7dksznp6+uTZDIpVrBiBhA48XhM5tbXygkNx0nMjTP81bMVhBlAYIXDIS/QSi8mZAVhBhBoiYR32U3/3+EzgTADCDSLhwoTZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAAq2/v1+sIcwAAi2Xy3n34bCdHBJmAIHW09vn3UejUbGCMAMItI7OLm+1HI/HxQrCDCCwOru6JZPJSmVlpVhiZ+0OANNEY9ydSklXd48kk0mxphjmPU37BACCIBQKSSQS8W4WMcoAEDh6iFw2m5W+vj5JuZWztUPmiivmxYsWCADMdv5hcalUj3S5GXM2l5OeHlsjDVbMAAIln897t2QyIcc3LJZoNOL9OpPJiBWEGUAgeTF244x59XXerwkzABigcY7FY8VtKwgzgEDL57lWBgCYYmml7CPMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAY6KCCWtuz8umHVnZ9FxGdjfnBcDYli4Ky7qzY7LurKgsqmV9OBxhnqD9rXm55mspSaX7BcD46AJmd3OffPsXabnrz5PSUE+cS/F/Y4L+/dE+L8rhkAAog75m9LWjryEMRZgnqHF3zrvPs2AGyuK/ZvzXEAYR5gnq7qPIwETwGjocYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGRAXAjJhXE5b3/kFCetL98qNf9UhnD/8oKQYQ5gCrjIVk6eKI1CXDsve1nLzcmpN8XjBNPv3uarn4zApve2FtWL74UJe3/boFEbntQ7XFx33mex3y2/1ZQXAQ5oAJhUT+9MKEXOZWasfPi0g4NPi5dLZffvZMn3zl4W451EWhx+vBv5nrvcmNxwf/tVUOdgz8vz150eDL75SS7Xg0JEsWRoq/Hu/3xuxBmANkwZyw/OP7auSC18dH/LwG4V0rK2X9ORXy2fs6ZdNzfXIs+e4n6+XkBQN/pe/7ZU9xBTrV5laHpWKc8Sx9I/zaz7vlhndVS59bDN/9WLcAPsIcEGG3m/ffrqmTk0tWYv1upPniwZy82pHzVmzzawb2BScrQnLT+2vkpZac7DqGfoSOuOqFC7uzw8fAIvPRZ/tk8/N93vgoz3gZJQhzQLzngsSQKL/wSlau/0aHHHBzZaVBu3RVwlvB6bauAP/pijly2RcPeQE/kppEyI1CRPoyIz9YY19XFZZXdI5dRoSS8ZDMdyv99lS/u03+eEVHO4vrItLVm5+UnW8/3DL2Sn34/8tsTiZssp8DZh5hDoAqF8WPrk8Wf93q5sfXfrVNuvsGX8S6arvf/fivj/2LS6q8j53gZtBLF0flhQMDq2YdgehK2nfJ51vk/W9KyDtXVMppx0fl5UM5ufTWQ8XP62z042+rkjefHpfj6iNeQHSOvac5J19/pFue/L/0iH9eDbh+33evqiyu4lXK/Xkf/k2f3L2pW5rbByP9hcvneN+/oX7wsevOrpDTT4h527c92Ck7Xxq68l9xSkw+9tYqOfW4qBd/pbNf/TPd8dOuCQWuf5xf+qUra92fceAlqGOjckcvU/kcMLMIcwCcdVLMi53ve0/1DIlyqQee7pHLL0pItDALOOekwTDHowOHePnWnlUhn3IrbF/p9EB3Xv3Lh2vlxPmRId9f59ga8duvqvVWl7c9ODRG+v2//md1ctKwr1O66r7UxXrNGXG5YmOrvNY5EOfXuzDpkQyl6t3cV2+qunLo4foasyvXJA8bd+gMXt8MLjwtLtfd0y6/OzC1Y5y6qlDx/2d1ZXmzFyvPAVODE0wCYHgcHxtjp15Xb7+87XMtsv6W17zbA0/3jvrYW/5kYPWsK8RX2vLSWzLG+PvLaoq/b8718wk3S9VV8r7XBn92f9/qhFz4xqE7Ij/x9qpilPX76VEid21KSeML6eIIRIO74Z2DbwhNB7NegHQ17tOxh35Mb6mSNyFd9V+9djBoOsrR7/9ztxLPFP5oGre/e0+Nt8K3aDY8B4yNFXMAnDhvaJg1opNBg3vHT7pdEHq90YIfgT9cViHLXhcrPk7HJjv2Zbztux9LyT+72bWutpUG9sldg+MPnVM/tmPgjeOhxl55atfguENn3jqiULqS993wzQ7v/gfXz5UlhZXzIy5Stw5bjWvI/uqPBoP+pPve19/bXgy+rry/s6He2z7zxKisd7/XI8+Wd2TKGxui8qE3J0f83LY96cNGKuWajueAmUeYA2BR3eAPRroiHm0HXbn0eOcfuLGIz5+tvqlkFbxjb6YYZf8xD23tLYZZQ6o7Dv156Ofv7xz199NI+2HWmXK5FruvKd0B+v0ne4bsiNTV9f+6cPpz33Pcm0u5UdOvOafkTanUHT+RCYd5Op4DZh5hDoDXOgZXyLpzT+e8pT/2Hy0dL4ykdD68sDYid32sbsjnI8MGo/r45/cNDZbOxU9dHPE+V5sMezPY4XNkXaH3l/E0hs+tr3U7RK9ZN3R1u6B28E3sxPnlx3+qzYbngCMjzAGwt2SuqzFb5F64+1omfpzWaDsQG+aWhjns3caih3r5YdYdgzqf1pHAZGsYtso++6SYjP3nKn8XzNO/S3sjmJFMxo646XgOmHmEOQBeGhbhi86Iy3/+T8+Ij9UV9Q1/XC2RyMCqVk+C0B135WjpzHtnw6lf7Ey7H6V7x3z884VRh66Mv3RVbfEQOR27aOh+64Kmow6dn+pRGUerpeQ0c11p69mNmdzoS279/culb4JTOTqYjueAmUeYA0BXo7q61eiqKy5Kyn1bekccZ1y7vkreft5g/P7rVz1SLo2TRlTpiu3h7eML1flLY8Uo69z06jtbvTMTfVe/JSnjFR5hobj34OCKVX9y0Ng/sfPYmr/OhueAIyPMAaCHjunREH9ZOHFED6W689pa+dQ3OoacTaeHYemJHT49zOzZpoyU69kXM8WddG9wI4mli6Kyu3kwKHqM80fWVhVnxLc91OkFpnTkkcn2e2f7+WLuJ3i9ROZYsiUrx5F2wOlPDq3deakvHNN9yXkVh0VN43/KwoGXhc7QdUelJbPhOeDICHNA6N77yy6oLM5/9XC2hz4919uD39yec3v6o958t9Tn7u8sHhdbjvt/2SvvXZ0oHqanbwLfeiIlB1rz3pmEegKEvjmoX+/JFI/I0DMCfXpK+G0fniM//XWfd1TJW5dVFL9mNC+7aJ26eOA56L0eNqZvEt9/qkeaXs15z+XOn3XLZy4bOP76LWdVeGcN6qgm4X6aWP2GePFoEXU0Py1MtdnwHHBkhDkgdGyx4Z52+ewH5hQDnIiH5LxTdGU5dHWpq9j/eLTbmy8f7e/1hQc65dYP1nqHwum8ecM7qg97nJ4YoTNSX+PutGz/fUbOPXngz6NvHv7x0Po9f7ytV96xYvQZ849dxP3rGysdp+jt8R1pL8zqv93q8aLT4sXH6ZX09Dac/oSxbU/5Py1Mh9nwHDA2dtkGiM5rP/KVVvmmW72OtlNIX8hXudmunkk2Edt2Z+QDtx/yVnLDZ9mpdL+3gr/mq23e9TV8er2Ov/52hxeeXH7wY3qFu0/c3S6bd6bH/D31Sm3/8N0O77hp//np15fuHNM3nRu+1SG3/LBzxBNt9Djjv/1Oh3dJTqtmw3PA2EJbt271/taefsaZgvKtublTjlV6koYeK6zzyr1uDLDXhXsqLpCvhy0f70YoepU4vchOc1vuiCOSaGTg0DB9vP7TS0dDj9fWufNYV7PT46OXuDGOPk5HLVNxBbupNhuew+Yba2QmvdJ80Luvrq6WmbTvxT3ePaOMANNRgn/Zz6mkYdTjpss5dlovh1l6/PXRGM9JNLqy1rMTj2Wz4TlgKEYZAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwT1BVRUgAHD1eQ4cjzBO0cmnEuw/zdwsoi/+a8V9DGESYJ+ij6yskGQ9Jvl8AlEFfM/ra0dcQhooKJqShPiz3fDwpm3ZkZdNzGdndnBcAY1u6KCzrzo7JurOisqiW9eFwhHkS6F+syy+MezcAmCjeqgDAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgCBFg7byyBhBhBo4XBIrCHMAAJLV8uZdKa4bQVhBhBIGuJYNCotrW3er2OxmFgRFQAIEH9lnEr1SFdXt2RzuYFIWwzzK80HBQCCRqOcSCTEElbMAAInFApJJBLxbpZWyr5imKurqwUAMPPY+QcAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYQ5gBwBjCDADGEGYAMIYwA4AxhBkAjCHMAGAMYQYAYwgzABhDmAHAGMIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGMIMwAYE/U3Fs6vFwAIgkwmK13d3dLR2S2JREKsYcUMIHBisajU19XK3PpaSaVSks/nxRLCDCCwaqqrvEj39vaKJYQZQKDNqan2VszpdFqsIMwAAi1RWeHdZ7NZsYIwAwi0SCTi3VuaMxNmAIEWCoXEGsIMAMYQZgAwhjADgDGEGQCMIcwAYAxhBgBjCDMAGEOYAcAYwgwAxhBmADCGMAOAMYQZAIwhzABgDGEGAGM0zG26kcvlBAAwM0quB91WDLOlq/cDQNBksxl/s0nDvF23urq6BAAwM3KFxXF/f/+LYfefJ/QX+k94AwBmRsm/1L29uGJua2sTAMDM6O0pLo43h1euXLnZbbTpP93d2dkpAIDplU73+TPmJm2yd7icG2ds1PuWlhYBAEyvrs4O7z4UCm3Wey/M0Wj0y3qvYdaVMwBgeugRcd1dA9MK19+b9d4L8/Lly3XA7K2am5qaBAAwPTraW717t1q+d/Xq1U26XTzzLxKJ3OTu2nTO/OqrrwoAYGp1drT7q+Umf7WsimHWVbObNXuf2L9/P4fPAcAU0hGGv1rO5/M3+6tlNeRaGW5voM6aN+rp2bt372beDABTQKN8sPmAfxr2xlWrVt1b+vnDLmJ0/vnnX+fuNmuUd+3aRZwBYBJpUzXKhcPjtheaO8SIV5dz8+ZL9Qv0G+zcuZOZMwBMAp0pH2ze70d5s2vt2pEeFxrrm2zdulVHGxt0e968edLQ0CDxeFwAYDbZ07TPu6+urpapoKOLQy0Hpa+3x//QxpFWyr4xw6y2bdt2ldspeKPbXKK/1kAvXLhQksmkAMBsMFVh1utfpLo7i8cpO95BFoX9eaM6YpjVli1blujhdOFw+Er/Y7pyrqurk5qaGm+7oqJCRyACAMeayQiz7sjTm66KM5m09KRSpZfyVBu1o4XzRsY0rjD7SgJ9sRRW0ACAUekKeaOeXT2eIPvKCnOpxsbGNe5uTSgUWiYDkdZbnQBAMLUVbtsLl1PeXrhIXNn+Hw4vBTbUWmypAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/instructionsFilecreated.e356adc2.png\";","export const reports = {\n  FB_MESSENGER: 'FB_MESSENGER'\n};\n\nexport const screens = {\n  DROPFILES: 'DROPFILES',\n  LOADING: 'LOADING',\n  DASHBOARD: 'DASHBOARD',\n  INSTRUCTIONS: 'INSTRUCTIONS'\n};\n\nexport const mainColor = '#8F00FF';\n","/* eslint-disable no-console */\nexport const SET_LOADING = 'SET_LOADING';\nexport function setLoading(isLoading) {\n  return {\n    type: SET_LOADING,\n    isLoading\n  };\n}\n\nexport const SET_CURRENT_REPORT = 'SET_CURRENT_REPORT';\nexport function setCurrentReport(currentReport) {\n  return {\n    type: SET_CURRENT_REPORT,\n    currentReport\n  };\n}\n\nexport const SET_CURRENT_SCREEN = 'SET_CURRENT_SCREEN';\nexport function setCurrentScreen(currentScreen) {\n  return {\n    type: SET_CURRENT_SCREEN,\n    currentScreen\n  };\n}\n\nexport const SET_ERROR = 'SET_ERROR';\nexport function setError(err) {\n  if (err) {\n    console.error(`[Client Side Error] ${err.message}`);\n  }\n  const error = !err\n    ? null\n    : [err.response ? err.response.status : 500, err.message];\n  return {\n    type: SET_ERROR,\n    error\n  };\n}\n\n// TODO: isolate in a separate actions (maybe inside /plugins)\n// FB_MESSENGER\n\nexport const SHOW_FIRST_DRAWER = 'SHOW_FIRST_DRAWER';\nexport function showFirstDrawer() {\n  return {\n    type: SHOW_FIRST_DRAWER\n  };\n}\n\nexport const HIDE_FIRST_DRAWER = 'HIDE_FIRST_DRAWER';\nexport function hideFirstDrawer() {\n  return {\n    type: HIDE_FIRST_DRAWER\n  };\n}\n\nexport const SET_FIRST_DRAWER = 'SET_FIRST_DRAWER';\nexport function setFirstDrawer(typeDrawer, filters) {\n  return {\n    type: SET_FIRST_DRAWER,\n    visible: true,\n    typeDrawer,\n    filters\n  };\n}\n\nexport const SHOW_SECOND_DRAWER = 'SHOW_SECOND_DRAWER';\nexport function showSecondDrawer() {\n  return {\n    type: SHOW_SECOND_DRAWER\n  };\n}\n\nexport const HIDE_SECOND_DRAWER = 'HIDE_SECOND_DRAWER';\nexport function hideSecondDrawer() {\n  return {\n    type: HIDE_SECOND_DRAWER\n  };\n}\n\nexport const SET_SECOND_DRAWER = 'SET_SECOND_DRAWER';\nexport function setSecondDrawer(typeDrawer, filters) {\n  return {\n    type: SET_SECOND_DRAWER,\n    visible: true,\n    typeDrawer,\n    filters\n  };\n}\n","import modelWorker from 'workerize-loader!../plugins/FB_MESSENGER/modelWorker.js'; // eslint-disable-line import/no-webpack-loader-syntax\n\nlet instance;\n\nexport function initWorker() {\n  instance = modelWorker();\n}\n\nexport function getWorker() {\n  return instance;\n}\n\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport classNames from 'classnames';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Button } from 'antd';\n\nimport { screens } from '../constants';\nimport * as Actions from '../state/actions';\nimport { getWorker } from '../utils/worker';\n\nclass Dropfiles extends React.Component {\n  handleInstructionsClick(e) {\n    const { goInstructions } = this.props;\n    e.stopPropagation();\n    goInstructions();\n  }\n  \n  async dropHandler(files) {\n    const {\n      goReport,\n      setError,\n      setLoading,\n      setCurrentReport\n    } = this.props;\n\n    const checkFile = new RegExp('.*message.*.json');\n    const validFiles = Array.from(files).filter(d => checkFile.test(d.webkitRelativePath));\n\n    // Check files\n    if (!validFiles.length) {\n      setError('No valid file detected'); // TODO: dispatch error\n      return null;\n    }\n\n    setLoading(true);\n\n    const filesArrayBuffer = await Promise.all(\n      validFiles.map(async file => {\n        const { name, webkitRelativePath } = file;\n        const arrayBuffer = await file.arrayBuffer();\n        return {\n          name,\n          path: webkitRelativePath,\n          arrayBuffer,\n        }\n      }));\n    // Detect dataset name\n    const datasetName = 'FB_MESSENGER'; // TODO\n    if (!datasetName) {\n      setError('No dataset detected'); // TODO: dispatch error\n      return null;\n    }\n    // TODO: load the right worker based on datasetName\n    await getWorker().fbMessengerLoadDataset(filesArrayBuffer);\n\n    setCurrentReport(datasetName);\n    setLoading(false);\n    goReport();\n    return null;\n  }\n\n  render() {\n    const { isLoading } = this.props;\n\n    if (isLoading) return null;\n    return (\n      <div>\n        <div className=\"page\">\n          <div className=\"logo\">Explorata<span className=\"dot\">.</span></div>\n          <div className=\"logo-description\">\n            <strong>Visualize crispy data from your Facebook Messenger export</strong><br />\n            ğŸ† Most messaged friends? ğŸ”¥ Best streaks? ğŸ—“Most active year?<br />\n            ğŸ‘» Ghosters or ğŸ—£ Talkers? ğŸ˜œ Most sent/received Emoji? ...\n          </div>\n          <Dropzone\n            ref={this.dropzoneRef}\n            onDrop={f => this.dropHandler(f)}\n            accept=\".json\"\n            multiple\n          >\n            {({ isDragActive, getRootProps, getInputProps }) => (\n              <div\n                {...getRootProps()}\n                className={classNames('dropzone', {\n                  'is-active': isDragActive\n                })}\n              >\n                <input\n                  {...getInputProps()}\n                  directory=\"\"\n                  webkitdirectory=\"\"\n                  nwdirectory=\"\"\n                />\n                <p>\n                  {isDragActive\n                    ? 'Yes! here...'\n                    : 'Drag and drop your â€œmessagesâ€ folder here...'}\n                </p>\n                <div>\n                  <Button type=\"primary\" size=\"large\">\n                    Choose from computer...\n                  </Button>\n                  <Button size=\"large\" onClick={(e) => this.handleInstructionsClick(e)}>\n                    Instructions to get your dataset\n                  </Button>\n                </div>\n              </div>\n            )}\n          </Dropzone>\n          <div className=\"disclaimer\">\n            <strong>Privacy is by design with Explorata</strong><br />\n            - You will certainly get an alert â€œUpload X files to this site?â€ â€“ None of your files or result are uploaded to a server. All computations are happening right on your browser.<br />\n            - You can totally use this tool offline (Give it a shot)<br />\n            - The source code of this project is open source on <a href=\"https://github.com/melalj/explorata\" rel=\"noopener noreferrer\" target=\"_blank\">GitHub</a>.<br />\n            - This website is static and is deployed on <a href=\"https://github.com/melalj/explorata/tree/gh-pages\" rel=\"noopener noreferrer\" target=\"_blank\">GitHub Pages</a>.<br />\n            - You can <a href=\"https://github.com/melalj/explorata\" rel=\"noopener noreferrer\" target=\"_blank\">read more</a> about our motivation and privacy mesures we took for Explorata. If you want to contribute to this project, you can <a href=\"https://github.com/melalj/explorata/issues\" rel=\"noopener noreferrer\" target=\"_blank\">report an issue</a> or open a <a href=\"https://github.com/melalj/explorata\" rel=\"noopener noreferrer\" target=\"_blank\">pull request</a>.\n          </div>\n        </div>\n        <div className=\"footer\">\n          Made with <a href=\"https://www.foodandwine.com/drinks/everything-you-need-know-about-pastis\" rel=\"noopener noreferrer\" target=\"_blank\">Pastisï¸</a> by <a href=\"https://tonoid.com\" rel=\"noopener noreferrer\" target=\"_blank\">Simo Elalj</a> & <a href=\"https://ulysse.xyz\" rel=\"noopener noreferrer\" target=\"_blank\">Ulysse Sabbag</a> in Aix-en-Provence with the <a href=\"https://mozza.io\" rel=\"noopener noreferrer\" target=\"_blank\">Mozza</a> crew\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    error: state.error,\n    isDatasetReady: state.isDatasetReady,\n    isLoading: state.isLoading,\n    currentScreen: state.currentScreen\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setError: e => Actions.setError(e),\n      setLoading: c => Actions.setLoading(c),\n      goReport: () => Actions.setCurrentScreen(screens.DASHBOARD),\n      goInstructions: () => Actions.setCurrentScreen(screens.INSTRUCTIONS),\n      setCurrentReport: r => Actions.setCurrentReport(r),\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dropfiles);\n","/* eslint-disable react/no-children-prop */\n/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport { Spin } from 'antd';\n\nexport default function Loading() {\n  return (\n    <div className=\"loading\">\n      <div>\n        <Spin size=\"large\" />\n        <br />\n        Prepare for a trip down memory lane...\n      </div>\n    </div>\n  );\n}\n","import moment from 'moment';\nimport emojiRegexLib from 'emoji-regex';\n\nexport const emojiRegex = emojiRegexLib();\n\nexport function returnSorted(obj, sortFn) {\n  const output = [];\n  Object.keys(obj).forEach(k => {\n    if (sortFn) obj[k].sort(sortFn);\n    obj[k].forEach(d => {\n      output.push(d);\n    });\n  });\n  return output;\n}\n\nexport function enumerateDaysBetweenDates(startDate, endDate) {\n  const mStartDate = moment(startDate);\n  const mEndDate = moment(endDate);\n\n  const now = mStartDate;\n  const dates = [];\n\n  while (now.isBefore(mEndDate) || now.isSame(mEndDate)) {\n    dates.push(now.format('YYYY-MM-DD'));\n    now.add(1, 'days');\n  }\n  return dates;\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport {\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid\n} from 'recharts';\nimport millify from 'millify';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { Spin } from 'antd';\n\nimport * as Actions from '../../../state/actions';\nimport { enumerateDaysBetweenDates } from '../../../utils';\nimport { mainColor } from '../../../constants';\nimport { getWorker } from '../../../utils/worker';\n\nclass ActivityPerYear extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataActivity: null\n    };\n  }\n\n  async componentDidMount() {\n    const { year } = this.props;\n    const dataActivity = await getWorker().fbMessengerQueryActivityPerDay(year);\n    this.setState({ dataActivity });\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { year } = this.props;\n    if (prevProps.year !== year) {\n      const dataActivity = await getWorker().fbMessengerQueryActivityPerDay(year);\n      this.setState({ dataActivity });\n    }\n  }\n\n  handleClick(activeItem) {\n    const { setFirstDrawer } = this.props;\n    if (\n      !activeItem ||\n      !activeItem.activePayload ||\n      !activeItem.activePayload[0]\n    )\n      return;\n    const d = activeItem.activePayload[0].payload;\n    if (d && d.time && !Number.isNaN(d.time)) {\n      const dayTo = moment(d.time);\n      dayTo.add(1, 'day');\n      const day = moment(d.time).format('YYYY-MM-DD');\n      setFirstDrawer('ChatList', {\n        dayFrom: day,\n        dayTo: dayTo.format('YYYY-MM-DD')\n      });\n    }\n  }\n\n  render() {\n    const { year } = this.props;\n    const { dataActivity } = this.state;\n\n    if (!dataActivity) return <Spin />;\n\n    const days = enumerateDaysBetweenDates(`${year}-01-01`, `${year}-12-31`);\n    const data = days.map(d => {\n      const row = dataActivity[d];\n      const count = row ? Number(row) : 0;\n      return { time: new Date(d).getTime(), count };\n    });\n\n    return (\n      <ResponsiveContainer aspect={4} width=\"100%\">\n        <AreaChart\n          data={data}\n          onClick={d => this.handleClick(d)}\n          margin={{\n            top: 5,\n            right: 30,\n            left: 20,\n            bottom: 5\n          }}\n        >\n          <YAxis\n            domain={['dataMin', 'dataMax']}\n            allowDecimals={false}\n            tickFormatter={v => millify(Number(v), { precision: 0 })}\n          />\n          <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n          <Tooltip\n            formatter={v => [\n              `${millify(Number(v), { precision: 0 })} Messages`\n            ]}\n            labelFormatter={name => [moment(name).format('YYYY-MM-DD')]}\n          />\n          <Area\n            type=\"monotone\"\n            dataKey=\"count\"\n            animationDuration={300}\n            stroke={mainColor}\n            fillOpacity={0.3}\n            fill={mainColor}\n          />\n          <XAxis\n            dataKey=\"time\"\n            scale=\"time\"\n            domain={['auto', 'auto']}\n            tickCount={12}\n            name=\"Day\"\n            tickFormatter={d => moment(d).format('MMM DD')}\n            type=\"number\"\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(ActivityPerYear);\n","/* eslint-disable react/no-unused-state */\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport {\n  ResponsiveContainer,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid\n} from 'recharts';\nimport millify from 'millify';\nimport { Spin } from 'antd';\n\nimport { mainColor } from '../../../constants';\nimport { getWorker } from '../../../utils/worker';\n\nexport default class ActivityPerYear extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataActivity: null\n    };\n  }\n\n  async componentDidMount() {\n    const dataActivity = await getWorker().fbMessengerQueryActivityPerYear();\n    this.setState({ dataActivity });\n  }\n\n  handleClick(activeItem) {\n    const { onClick } = this.props;\n    if (\n      !activeItem ||\n      !activeItem.activePayload ||\n      !activeItem.activePayload[0]\n    )\n      return;\n    const d = activeItem.activePayload[0].payload;\n    onClick(d);\n  }\n\n  render() {\n    const { dataActivity } = this.state;\n    const { years } = this.props;\n    if (!dataActivity) return <Spin />;\n\n    const data = years.map(d => {\n      const row = dataActivity[String(d)];\n      const count = row ? Number(row) : 0;\n      return { year: d, count };\n    });\n\n    return (\n      <div style={{ margin: 10 }}>\n        <ResponsiveContainer aspect={4} width=\"100%\">\n          <BarChart\n            data={data}\n            onClick={v => this.handleClick(v)}\n            margin={{\n              top: 5,\n              right: 30,\n              left: 20,\n              bottom: 5\n            }}\n          >\n            <YAxis\n              domain={['dataMin', 'dataMax']}\n              name=\"Messages\"\n              allowDecimals={false}\n              tickFormatter={v => millify(v, { precision: 0 })}\n            />\n            <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n            <Tooltip />\n            <Bar\n              dataKey=\"count\"\n              fill={mainColor}\n              animationDuration={300}\n              radius={[10, 10, 0, 0]}\n            />\n            <XAxis dataKey=\"year\" name=\"Year\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n    );\n  }\n}\n","/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Tabs } from 'antd';\n\nimport ActivityPerDay from './ActivityPerDay';\nimport ActivityPerYear from './ActivityPerYear';\n\nconst { TabPane } = Tabs;\n\nexport default class MessengerActivity extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      yearActivity: null,\n      activeTab: '0'\n    };\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { activeTab } = this.state;\n\n    if (prevState.activeTab !== activeTab) {\n      const { dataYears } = this.props;\n      const toUpdate = {\n        yearActivity: activeTab === 0 ? null : dataYears[activeTab - 1]\n      };\n      if (!activeTab) toUpdate.dataActivity = null;\n      this.setState(toUpdate);\n    }\n  }\n\n  changeYearTab(y) {\n    const { dataYears } = this.props;\n    this.setState({ activeTab: `${dataYears.indexOf(y) + 1}` });\n  }\n\n  handleTabChange(i) {\n    const { dataYears } = this.props;\n    const toUpdate = { yearActivity: i === 0 ? null : dataYears[i - 1] };\n    if (!i) toUpdate.dataActivity = null;\n    this.setState({ activeTab: `${i}` });\n  }\n\n  render() {\n    const { yearActivity, activeTab } = this.state;\n    const { dataYears } = this.props;\n\n    return (\n      <div>\n        <h2>Messenger activity</h2>\n        <Tabs\n          activeKey={activeTab}\n          size=\"default\"\n          onChange={i => this.handleTabChange(i)}\n        >\n          <TabPane tab=\"All time\" key=\"0\">\n            <br />\n          </TabPane>\n          {dataYears.map((y, i) => (\n            <TabPane tab={y} key={`${i + 1}`}>\n              <br />\n            </TabPane>\n          ))}\n        </Tabs>\n        {yearActivity ? (\n          <ActivityPerDay\n            year={yearActivity}\n          />\n        ) : (\n          <ActivityPerYear\n            years={dataYears}\n            onClick={d => this.changeYearTab(d.year)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Table, Select, Spin } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nconst allTime = 'All Time';\n\nclass MostMessaged extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isReady: false,\n      yearMostMessaged: allTime,\n      dataMostMessaged: null\n    };\n  }\n\n  async componentDidMount() {\n    const { yearMostMessaged } = this.state;\n    const dataMostMessaged = await getWorker().fbMessengerQueryMostMessaged(\n      yearMostMessaged === allTime ? null : yearMostMessaged\n    );\n    this.setState({ dataMostMessaged, isReady: true });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { yearMostMessaged } = this.state;\n    if (prevState.yearMostMessaged !== yearMostMessaged) {\n      const dataMostMessaged = await getWorker().fbMessengerQueryMostMessaged(\n        yearMostMessaged === allTime ? null : yearMostMessaged\n      );\n      this.setState({ dataMostMessaged });\n    }\n  }\n\n  handleItemClick(d) {\n    const { setFirstDrawer } = this.props;\n    const filters = { person: d.person };\n    setFirstDrawer('FriendProfile', filters);\n  }\n\n  render() {\n    const { dataMostMessaged, isReady, yearMostMessaged } = this.state;\n    const { dataYears } = this.props;\n\n    if (!isReady || !dataMostMessaged) return <Spin />;\n\n    const yearMostMessagedHandler = k => {\n      this.setState({ yearMostMessaged: k });\n    };\n\n    const columns = [\n      {\n        title: 'Name',\n        dataIndex: 'person',\n        render: text => <a>{text}</a>\n      },\n      {\n        title: '#',\n        dataIndex: 'count',\n        align: 'right',\n        render: v => v.toLocaleString()\n      }\n    ];\n\n    return (\n      <div>\n        <div>\n          <div style={{ float: 'right' }}>\n            <Select\n              defaultValue={yearMostMessaged}\n              size=\"default\"\n              onChange={y => yearMostMessagedHandler(y)}\n            >\n              <Select.Option key=\"0\" value={allTime}>\n                {allTime}\n              </Select.Option>\n              {dataYears.map(y => (\n                <Select.Option key={y} value={y}>\n                  {y}\n                </Select.Option>\n              ))}\n            </Select>\n          </div>\n          <h2>\n            <span role=\"img\" aria-label=\"trophy\" className=\"emoji\">\n              ğŸ†\n            </span>\n            Most Messaged\n          </h2>\n        </div>\n        <Table\n          columns={columns}\n          showHeader={false}\n          pagination={{ pageSize: 5 }}\n          onRow={record => ({\n            onClick: () => this.handleItemClick(record)\n          })}\n          rowKey=\"person\"\n          dataSource={dataMostMessaged}\n          size=\"default\"\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(MostMessaged);\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Select, Table, Spin } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport moment from 'moment';\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nconst allTime = 'All Time';\n\nclass BestStreaks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isReady: false,\n      yearBestStreaks: allTime,\n      dataBestStreaks: null\n    };\n  }\n\n  async componentDidMount() {\n    const { yearBestStreaks } = this.state;\n    const dataBestStreaks = await getWorker().fbMessengerQueryBestStreaks(\n      yearBestStreaks === allTime ? null : yearBestStreaks\n    );\n    this.setState({ dataBestStreaks, isReady: true });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { yearBestStreaks } = this.state;\n    if (prevState.yearBestStreaks !== yearBestStreaks) {\n      const dataBestStreaks = await getWorker().fbMessengerQueryBestStreaks(\n        yearBestStreaks === allTime ? null : yearBestStreaks\n      );\n      this.setState({ dataBestStreaks });\n    }\n  }\n\n  handleClick(d) {\n    const { setFirstDrawer } = this.props;\n    const dayTo = moment(d.streakFrom);\n    dayTo.add(d.streak, 'days');\n    const filters = {\n      dayFrom: d.streakFrom,\n      person: d.person,\n      dayTo: dayTo.format('YYYY-MM-DD')\n    };\n    setFirstDrawer('ChatList', filters);\n  }\n\n  render() {\n    const { dataBestStreaks, isReady, yearBestStreaks } = this.state;\n    const { dataYears } = this.props;\n\n    if (!isReady || !dataBestStreaks)  return <Spin />;\n\n    const yearBestStreaksHandler = k => {\n      this.setState({ yearBestStreaks: k });\n    };\n\n    const columns = [\n      {\n        title: 'Name',\n        dataIndex: 'person',\n        render: text => <a>{text}</a>\n      },\n      {\n        title: '#',\n        align: 'right',\n        render: (v, d) => (\n          <div>\n            <b>{`${d.streak} days`}</b>\n            <br />\n            {`from ${d.streakFrom}`}\n          </div>\n        )\n      }\n    ];\n\n    return (\n      <div>\n        <div>\n          <div style={{ float: 'right' }}>\n            <Select\n              defaultValue={yearBestStreaks}\n              size=\"default\"\n              onChange={y => yearBestStreaksHandler(y)}\n            >\n              <Select.Option key=\"0\" value={allTime}>\n                {allTime}\n              </Select.Option>\n              {dataYears.map(y => (\n                <Select.Option key={y} value={y}>\n                  {y}\n                </Select.Option>\n              ))}\n            </Select>\n          </div>\n          <h2>\n            <span role=\"img\" aria-label=\"emoji\" className=\"emoji\">\n              ğŸ”¥\n            </span>\n            Best Streaks\n          </h2>\n        </div>\n        <Table\n          columns={columns}\n          showHeader={false}\n          onRow={record => ({\n            onClick: () => this.handleClick(record)\n          })}\n          rowKey=\"key\"\n          pagination={{ pageSize: 4 }}\n          dataSource={dataBestStreaks}\n          size=\"default\"\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(BestStreaks);\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Table, Select, Spin } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nconst allTime = 'All Time';\n\nclass RatioSent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isReady: false,\n      typeRatioSent: 'messages',\n      yearRatioSent: allTime,\n      dataRatioSent: null\n    };\n  }\n\n  async componentDidMount() {\n    const { yearRatioSent, typeRatioSent } = this.state;\n    const { isGhosters } = this.props;\n    const dataRatioSent = await getWorker().fbMessengerQueryRatioSent(\n      yearRatioSent === allTime ? null : yearRatioSent,\n      typeRatioSent,\n      isGhosters\n    );\n    this.setState({ dataRatioSent, isReady: true });\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { yearRatioSent, typeRatioSent } = this.state;\n    const { isGhosters } = this.props;\n    if (\n      prevState.yearRatioSent !== yearRatioSent ||\n      prevState.typeRatioSent !== typeRatioSent\n    ) {\n      const dataRatioSent = await getWorker().fbMessengerQueryRatioSent(\n        yearRatioSent === allTime ? null : yearRatioSent,\n        typeRatioSent,\n        isGhosters\n      );\n      this.setState({ dataRatioSent });\n    }\n  }\n\n  handleItemClick(d) {\n    const { setFirstDrawer } = this.props;\n    const filters = { person: d.person };\n    setFirstDrawer('FriendProfile', filters);\n  }\n\n  render() {\n    const { dataRatioSent, isReady, yearRatioSent, typeRatioSent } = this.state;\n    const { dataYears, isGhosters } = this.props;\n\n    if (!isReady || !dataRatioSent) return <Spin />;\n\n    const yearRatioSentHandler = k => {\n      this.setState({ yearRatioSent: k });\n    };\n\n    const typeRatioSentHandler = k => {\n      this.setState({ typeRatioSent: k });\n    };\n\n    const columns = [\n      {\n        title: 'Name',\n        dataIndex: 'person',\n        render: text => <a>{text}</a>\n      },\n      {\n        title: '#',\n        dataIndex: 'ratio',\n        align: 'right',\n        render: (text, record) => {\n          return `${Number(record.ratio || 0).toFixed(2)} for 1`;\n        }\n      }\n    ];\n\n    return (\n      <div>\n        <div>\n          <div style={{ float: 'right' }}>\n            <Select\n              defaultValue={typeRatioSent}\n              size=\"default\"\n              onChange={y => typeRatioSentHandler(y)}\n            >\n              <Select.Option key=\"type-0\" value=\"messages\">\n                Messages\n              </Select.Option>\n              <Select.Option key=\"type-1\" value=\"emoji\">\n                Emojis\n              </Select.Option>\n              <Select.Option key=\"type-2\" value=\"photos\">\n                Photos\n              </Select.Option>\n              <Select.Option key=\"type-3\" value=\"gifs\">\n                GIFs\n              </Select.Option>\n            </Select>\n            <Select\n              defaultValue={yearRatioSent}\n              size=\"default\"\n              onChange={y => yearRatioSentHandler(y)}\n            >\n              <Select.Option key=\"0\" value={allTime}>\n                {allTime}\n              </Select.Option>\n              {dataYears.map(y => (\n                <Select.Option key={y} value={y}>\n                  {y}\n                </Select.Option>\n              ))}\n            </Select>\n          </div>\n          <h2>\n            <span role=\"img\" aria-label=\"emoji\" className=\"emoji\">\n              {isGhosters ? 'ğŸ‘»' : 'ğŸ—£'}\n            </span>\n            {isGhosters ? 'Ghosters' : 'Talkers'}\n          </h2>\n        </div>\n        <Table\n          columns={columns}\n          rowKey=\"person\"\n          pagination={{ pageSize: 5 }}\n          onRow={record => ({\n            onClick: () => this.handleItemClick(record)\n          })}\n          showHeader={false}\n          dataSource={dataRatioSent}\n          size=\"default\"\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(RatioSent);\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Avatar, List, Spin, Button } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nclass ChatList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataChatList: null\n    };\n  }\n\n  async componentDidMount() {\n    const { firstDrawer } = this.props;\n\n    const dataChatList = await getWorker().fbMessengerQueryChatList(\n      firstDrawer.filters\n    );\n    this.setState({ dataChatList });\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { firstDrawer } = this.props;\n    if (prevProps.firstDrawer.filters !== firstDrawer.filters) {\n      this.setState({ dataChatList: null });\n      const dataChatList = await getWorker().fbMessengerQueryChatList(\n        firstDrawer.filters\n      );\n      this.setState({ dataChatList });\n    }\n  }\n\n  handleItemClick(d) {\n    const { firstDrawer, setSecondDrawer } = this.props;\n    const filters = { ...firstDrawer.filters, person: d.person };\n    setSecondDrawer('ChatMessages', filters);\n  }\n\n  handleProfileClick(person) {\n    const { setFirstDrawer } = this.props;\n    setFirstDrawer('FriendProfile', { person });\n  }\n\n  render() {\n    const { dataChatList } = this.state;\n    if (!dataChatList) return <Spin />;\n    return (\n      <List\n        dataSource={dataChatList}\n        bordered\n        renderItem={item => (\n          <List.Item\n            key={item.id}\n            actions={[\n              <Button\n                key=\"profile\"\n                onClick={() => this.handleProfileClick(item.person)}\n              >\n                Profile\n              </Button>,\n              <Button\n                key=\"messages\"\n                type=\"primary\"\n                onClick={() => this.handleItemClick(item)}\n              >\n                Read messages\n              </Button>\n            ]}\n          >\n            <List.Item.Meta\n              avatar={<Avatar>{item.person.substr(0, 1).toUpperCase()}</Avatar>}\n              title={<a>{item.person}</a>}\n              description={`${item.count} messages`}\n            />\n          </List.Item>\n        )}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    firstDrawer: state.firstDrawer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f),\n      setSecondDrawer: (t, f) => Actions.setSecondDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatList);\n","/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Spin, DatePicker, Divider, Empty } from 'antd';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\n\nimport { getWorker } from '../../../utils/worker';\n\nconst { RangePicker } = DatePicker;\nconst dateFormat = 'YYYY-MM-DD';\n\nclass ChatMessages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.modelQuery = props.modelQuery;\n    this.state = {\n      data: null,\n      dayFrom: props.secondDrawer.filters.dayFrom || null,\n      dayTo: props.secondDrawer.filters.dayTo || null\n    };\n  }\n\n  async componentDidMount() {\n    const { dayFrom, dayTo } = this.state;\n    const data = await getWorker().fbMessengerQueryChatMessages(this.getFilters());\n    const toUpdate = { data };\n    if (!dayFrom) toUpdate.dayFrom = data[0].day;\n    if (!dayTo) toUpdate.dayTo = data[data.length - 1].day;\n    this.setState(toUpdate);\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { secondDrawer } = this.props;\n    const { dayFrom, dayTo, data } = this.state;\n    if (prevProps.secondDrawer.filters !== secondDrawer.filters) {\n      this.setState({\n        data: null,\n        dayFrom: secondDrawer.filters.dayFrom || null,\n        dayTo: secondDrawer.filters.dayTo || null\n      });\n    }\n\n    if (\n      prevState.dayFrom !== dayFrom ||\n      prevState.dayTo !== dayTo ||\n      (prevState.data && !data)\n    ) {\n      this.setState({ data: null });\n      const newData = await getWorker().fbMessengerQueryChatMessages(this.getFilters());\n      const toUpdate = { data: newData };\n      if (!dayFrom) toUpdate.dayFrom = newData[0].day;\n      if (!dayTo) toUpdate.dayTo = newData[newData.length - 1].day;\n      this.setState(toUpdate);\n    }\n  }\n\n  getFilters() {\n    const { dayFrom, dayTo } = this.state;\n    const { secondDrawer } = this.props;\n    return {\n      person: secondDrawer.filters.person,\n      dayFrom,\n      dayTo\n    };\n  }\n\n  getChatlist() {\n    const { data } = this.state;\n    if (!data) return <Spin />;\n\n    if (!data.length) return <Empty />;\n    return data.slice(0, 5000).map((d, i) => {\n      const p = d.sender ? 'sender' : 'receiver';\n\n      const isMiddle =\n        i > 0 &&\n        i < data.length - 1 &&\n        data[i][p] === data[i + 1][p] &&\n        data[i][p] === data[i - 1][p];\n\n      const isFirst = !isMiddle && (i === 0 || data[i][p] !== data[i - 1][p]);\n\n      const bubbleClassNames = classNames('bubble', {\n        sender: d.sender,\n        recipient: d.receiver,\n        first: isFirst,\n        last:\n          !isFirst && (i === data.length - 1 || data[i][p] !== data[i + 1][p]),\n        middle: isMiddle\n      });\n      return (\n        <div className=\"chatrow\" key={`chat-${i}`}>\n          {isFirst ? (\n            <div className=\"time\">\n              {moment(d.timestamp).format('YYYY-MM-DD LTS')}\n            </div>\n          ) : null}\n          <div className={bubbleClassNames}>{d.content}</div>\n        </div>\n      );\n    });\n  }\n\n  handleDateChange(r) {\n    if (!r || !r[0] || !r[1]) return;\n    this.setState({\n      dayFrom: r[0].format(dateFormat),\n      dayTo: r[1].format(dateFormat)\n    });\n  }\n\n  render() {\n    const { dayFrom, dayTo } = this.state;\n    return (\n      <section className=\"discussion\">\n        <div align=\"center\">\n          <RangePicker\n            value={\n              !dayFrom\n                ? []\n                : [moment(dayFrom, dateFormat), moment(dayTo, dateFormat)]\n            }\n            onCalendarChange={v => this.handleDateChange(v)}\n          />\n        </div>\n        <Divider />\n        {this.getChatlist()}\n      </section>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    secondDrawer: state.secondDrawer\n  };\n}\n\nexport default connect(mapStateToProps)(ChatMessages);\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Statistic, Row, Col, Button, Card, Tag, Spin } from 'antd';\nimport millify from 'millify';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\n\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nclass FriendProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    this.state = {\n      dataFriendProfile: null\n    };\n  }\n\n  async componentDidMount() {\n    const { firstDrawer } = this.props;\n    const dataFriendProfile = await getWorker().fbMessengerQueryFriendProfile(\n      firstDrawer.filters.person\n    );\n    this.setState({ dataFriendProfile });\n    this.mounted = true;\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (!this.mounted) return;\n    const { firstDrawer } = this.props;\n    if (prevProps.firstDrawer.filters !== firstDrawer.filters) {\n      this.setState({ dataFriendProfile: null });\n      const dataFriendProfile = await getWorker().fbMessengerQueryFriendProfile(\n        firstDrawer.filters.person\n      );\n      this.setState({ dataFriendProfile });\n    }\n  }\n\n  handleOpenConversationClick() {\n    const { firstDrawer, setSecondDrawer } = this.props;\n    setSecondDrawer('ChatMessages', firstDrawer.filters);\n  }\n\n  handleReadStreakClick({ streak, streakFrom }) {\n    const { firstDrawer, setSecondDrawer } = this.props;\n    const { person } = firstDrawer.filters;\n    const dayTo = moment(streakFrom);\n    dayTo.add(streak, 'days');\n    const filters = {\n      dayFrom: streakFrom,\n      person,\n      dayTo: dayTo.format('YYYY-MM-DD')\n    };\n    setSecondDrawer('ChatMessages', filters);\n  }\n\n  render() {\n    const { dataFriendProfile } = this.state;\n    if (!dataFriendProfile) return <Spin />;\n\n    const dt = dataFriendProfile;\n    return (\n      <div>\n        <h2>Messages</h2>\n        <Row gutter={[16, 16]}>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"First Message\"\n                value={dt.firstMessage}\n                formatter={v => new Date(v).toISOString().split('T')[0]}\n              />\n              <br />\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card>\n              <Statistic title=\"Best streak\" suffix=\"days\" value={dt.streak} />\n              <Tag color=\"purple\">{`started on ${dt.streakFrom}`}</Tag>\n              <a onClick={() => this.handleReadStreakClick(dt)}>Read</a>\n            </Card>\n          </Col>\n        </Row>\n        <Row gutter={[16, 16]}>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Sent\"\n                value={dt.messagesSent}\n                suffix=\"messages\"\n                formatter={v => millify(v, { precision: 1 })}\n              />\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Received\"\n                suffix=\"messages\"\n                value={dt.messagesReceived}\n                formatter={v => millify(v, { precision: 1 })}\n              />\n            </Card>\n          </Col>\n        </Row>\n        <div align=\"center\">\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            onClick={() => this.handleOpenConversationClick()}\n          >\n            Read all messages\n          </Button>\n        </div>\n        <h2>Emoji</h2>\n        <Row gutter={[16, 16]}>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Most Sent\"\n                value={`${\n                  !dt.mostSentEmoji.length\n                    ? 'N/A'\n                    : dt.mostSentEmoji\n                        .slice(0, 3)\n                        .map(d => d[0])\n                        .join(' ')\n                }`}\n              />\n              <Tag color=\"purple\">{`${dt.emojiSent} total`}</Tag>\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Most Received\"\n                value={`${\n                  !dt.mostReceivedEmoji.length\n                    ? 'N/A'\n                    : dt.mostReceivedEmoji\n                        .slice(0, 3)\n                        .map(d => d[0])\n                        .join(' ')\n                }`}\n              />\n              <Tag color=\"purple\">{`${dt.emojiReceived} total`}</Tag>\n            </Card>\n          </Col>\n        </Row>\n        <h2>GIF</h2>\n        <Row gutter={[16, 16]}>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Sent\"\n                suffix=\"GIFs\"\n                value={dt.gifSent}\n                formatter={v => millify(v, { precision: 0 })}\n              />\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Received\"\n                suffix=\"GIFs\"\n                value={dt.gifReceived}\n                formatter={v => millify(v, { precision: 0 })}\n              />\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    firstDrawer: state.firstDrawer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setSecondDrawer: (t, f) => Actions.setSecondDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FriendProfile);\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Drawer } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as Actions from '../../../state/actions';\n\nimport ChatList from './ChatList';\nimport ChatMessages from './ChatMessages';\nimport FriendProfile from './FriendProfile';\n\nclass Drawers extends React.Component {\n  getFirstDrawerTitle() {\n    const { firstDrawer } = this.props;\n    const { typeDrawer, filters } = firstDrawer;\n    if (typeDrawer === 'ChatList' && filters) {\n      if (!filters.dayFrom) return 'Threads';\n      return `Threads from ${filters.dayFrom} to ${filters.dayTo}`;\n    }\n    if (typeDrawer === 'FriendProfile' && filters && filters.person) {\n      return `${filters.person} Report`;\n    }\n    return null;\n  }\n\n  getSecondDrawerTitle() {\n    const { secondDrawer } = this.props;\n    const { typeDrawer, filters } = secondDrawer;\n    if (typeDrawer === 'ChatMessages' && filters && filters.person) {\n      return `${filters.person} â€¢ Messages`;\n    }\n    return null;\n  }\n\n  getFirstDrawerContent() {\n    const { firstDrawer } = this.props;\n    const { typeDrawer, filters } = firstDrawer;\n    if (typeDrawer === 'ChatList' && filters) {\n      return <ChatList />;\n    }\n    if (typeDrawer === 'FriendProfile' && filters) {\n      return <FriendProfile />;\n    }\n    return null;\n  }\n\n  getSecondDrawerContent() {\n    const { secondDrawer } = this.props;\n    const { typeDrawer, filters } = secondDrawer;\n\n    if (typeDrawer === 'ChatMessages' && filters && filters.person) {\n      return <ChatMessages />;\n    }\n    return null;\n  }\n\n  render() {\n    const {\n      firstDrawer,\n      secondDrawer,\n      hideFirstDrawer,\n      hideSecondDrawer\n    } = this.props;\n\n    return (\n      <Drawer\n        title={this.getFirstDrawerTitle()}\n        width={700}\n        closable={false}\n        onClose={hideFirstDrawer}\n        visible={firstDrawer.visible}\n      >\n        {this.getFirstDrawerContent()}\n        <Drawer\n          title={this.getSecondDrawerTitle()}\n          width={600}\n          closable\n          onClose={hideSecondDrawer}\n          visible={secondDrawer.visible}\n        >\n          {this.getSecondDrawerContent()}\n        </Drawer>\n      </Drawer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    firstDrawer: state.firstDrawer,\n    secondDrawer: state.secondDrawer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      hideFirstDrawer: () => Actions.hideFirstDrawer(),\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f),\n      hideSecondDrawer: () => Actions.hideSecondDrawer(),\n      setSecondDrawer: (t, f) => Actions.setSecondDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Drawers);\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Input, Menu, Dropdown, Spin } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as Actions from '../../../state/actions';\nimport { getWorker } from '../../../utils/worker';\n\nconst { Search } = Input;\n\nclass SearchFriend extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: null,\n      menuVisible: false,\n      dataSearchFriend: null\n    };\n  }\n\n  async componentDidMount() {\n    const dataSearchFriend = await getWorker().fbMessengerGetFriends();\n    this.setState({ dataSearchFriend });\n  }\n\n  getMenu() {\n    const { dataSearchFriend, searchValue } = this.state;\n    return (\n      <Menu>\n        {dataSearchFriend\n          .filter(\n            d =>\n              !searchValue ||\n              d.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1\n          )\n          .slice(0, 5)\n          .map(person => (\n            <Menu.Item\n              onClick={() => this.handleItemClick(person)}\n              key={person}\n            >\n              {person}\n            </Menu.Item>\n          ))}\n      </Menu>\n    );\n  }\n\n  handleItemClick(person) {\n    const { setFirstDrawer } = this.props;\n    setFirstDrawer('FriendProfile', { person });\n  }\n\n  hideMenu() {\n    clearTimeout(this.hideTimer);\n    this.hideTimer = setTimeout(\n      () => this.setState({ menuVisible: false }),\n      200\n    );\n  }\n\n  render() {\n    const { dataSearchFriend, menuVisible } = this.state;\n    if (!dataSearchFriend) return <Spin />;\n    return (\n      <Dropdown overlay={this.getMenu()} visible={menuVisible}>\n        <Search\n          placeholder=\"Search a friend...\"\n          onChange={e => this.setState({ searchValue: e.target.value })}\n          onFocus={() => this.setState({ menuVisible: true })}\n          onBlur={() => this.hideMenu()}\n          size=\"large\"\n        />\n      </Dropdown>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    firstDrawer: state.firstDrawer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      setFirstDrawer: (t, f) => Actions.setFirstDrawer(t, f)\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchFriend);\n","/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Row, Col, Divider } from 'antd';\n\nimport MessengerActivity from './components/MessengerActivity';\nimport MostMessaged from './components/MostMessaged';\nimport BestStreaks from './components/BestStreaks';\nimport RatioSent from './components/RatioSent';\nimport Drawers from './components/Drawers';\nimport SearchFriend from './components/SearchFriend';\nimport { getWorker } from '../../utils/worker';\n\nexport default class ViewFbMessenger extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataYears: null\n    };\n  }\n\n  async componentDidMount() {\n    const dataYears = await getWorker().fbMessengerQueryYears();\n    this.setState({ dataYears });\n  }\n\n  render() {\n    const { dataYears } = this.state;\n    if (!dataYears) return null;\n\n    return (\n      <div>\n        <Drawers />\n        <Divider />\n        <SearchFriend />\n        <MessengerActivity dataYears={dataYears} />\n        <br />\n        <Row gutter={28}>\n          <Col span={12}>\n            <MostMessaged\n              dataYears={dataYears}\n            />\n          </Col>\n          <Col span={12}>\n            <BestStreaks\n              dataYears={dataYears}\n            />\n          </Col>\n        </Row>\n        <Row gutter={28}>\n          <Col span={12}>\n            <RatioSent\n              dataYears={dataYears}\n            />\n          </Col>\n          <Col span={12}>\n            <RatioSent\n              dataYears={dataYears}\n              isGhosters\n            />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/prop-types */\n\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Button } from 'antd';\n\nimport * as Actions from '../state/actions';\nimport { reports, screens } from '../constants';\n\nimport ViewFbMessenger from '../plugins/FB_MESSENGER/view';\n\nfunction goGithub() {\n  if (window) window.open('https://www.github.com/melalj/explorata');\n}\n\nfunction goExplorata() {\n  if (window) window.open('https://explorata.io');\n}\n\nclass Dashboard extends React.Component {\n  getReportView() {\n    const { currentReport } = this.props;\n    if (currentReport === reports.FB_MESSENGER) {\n      return <ViewFbMessenger />;\n    }\n    return null;\n  }\n\n  render() {\n    const { currentReport, goDropfiles, isLoading } = this.props;\n    if (isLoading) return null;\n    return (\n      <div className=\"page\">\n        <div>\n          <div style={{ float: 'right' }}>\n            <Button onClick={() => goGithub()}>Contribute on Github</Button>\n            <Button onClick={() => goDropfiles()}>Upload new dataset</Button>\n          </div>\n          <p>\n            Facebook Messenger Report generated by\n            <a onClick={() => goExplorata()}>\n              {' '}\n              Explorata.io\n            </a>\n          </p>\n        </div>\n        {!currentReport ? null : this.getReportView()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentReport: state.currentReport,\n    isLoading: state.isLoading\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      goDropfiles: () => Actions.setCurrentScreen(screens.DROPFILES),\n      setLoading: d => Actions.setLoading(d),\n      setError: e => Actions.setError(e)\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n","/* eslint-disable react/no-children-prop */\n/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport { Button } from 'antd';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { screens } from '../constants';\nimport * as Actions from '../state/actions';\nimport instructionsRequest from '../images/instructionsRequest.png'\nimport instructionsDeselect from '../images/instructionsDeselect.png'\nimport instructionsSelect from '../images/instructionsSelect.png'\nimport instructionsCreate from '../images/instructionsCreate.png'\nimport instructionsFilecreated from '../images/instructionsFilecreated.png'\n\n\nclass Instructions extends React.Component {\n  render () {\n    const { goDropfile } = this.props;\n    return (\n      <div className=\"page instructions\">\n        <div>\n          <h1>How to get your data from Facebook</h1>\n          <div className=\"ant-steps ant-steps-vertical\">\n          <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">1</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Go to <a href=\"https://facebook.com/dyi\" target=\"blank\" rel=\"noopener noereferrer\">facebook.com/dyi</a></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">2</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Click on â€œDownload Your Informationâ€</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">3</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Under â€œRequest Copyâ€, choose â€˜JSONâ€™ for â€˜Formatâ€™ and â€˜Lowâ€™ for â€˜Media Qualityâ€™, like so:</div>\n                  <div className=\"ant-steps-item-description\"><img src={instructionsRequest} alt=\"Instructions\" /></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">4</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Scroll to â€œYour informationâ€ and click on â€œDeselect Allâ€</div>\n                  <div className=\"ant-steps-item-description\"><img src={instructionsDeselect} alt=\"Instructions\" /></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">5</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Scroll to â€˜Messagesâ€™ and click on the checkbox.</div>\n                  <div className=\"ant-steps-item-description\"><img src={instructionsSelect} alt=\"Instructions\" /></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">6</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Scroll up to the top and click on â€˜Create Fileâ€™</div>\n                  <div className=\"ant-steps-item-description\"><img src={instructionsCreate} alt=\"Instructions\" style={{ width: 200 }} /></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\">7</span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">Well done! You should see this banner under â€˜Request Copyâ€™</div>\n                  <div className=\"ant-steps-item-description\"><img src={instructionsFilecreated} alt=\"Instructions\" /></div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"ant-steps-item ant-steps-item-process ant-steps-item-active\">\n              <div role=\"button\" className=\"ant-steps-item-container\">\n                <div className=\"ant-steps-item-tail\"></div>\n                <div className=\"ant-steps-item-icon\"><span className=\"ant-steps-icon\"></span></div>\n                <div className=\"ant-steps-item-content\">\n                  <div className=\"ant-steps-item-title\">\n                    <p>Now, we just have to wait until Facebook creates your file (up to 6 hours). Facebook will send you both a notification and an email when the file is ready.</p>\n                    <p>Finally, download your file and then unzip it. You just have to drag the â€˜messagesâ€™ folder onto Explorata!</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n          </div>\n          <Button type=\"primary\" onClick={() => goDropfile()}>Back</Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      goDropfile: () => Actions.setCurrentScreen(screens.DROPFILES),\n    },\n    dispatch\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(Instructions);\n","/* eslint-disable react/prop-types */ // TODO: Use prop types\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { screens } from '../constants';\n\nimport Dropfiles from './Dropfiles';\nimport Loading from './Loading';\nimport Dashboard from './Dashboard';\nimport Instructions from './Instructions';\n\nclass App extends React.Component {\n  getCurrentScreen() {\n    const { currentScreen } = this.props;\n    if (currentScreen === screens.INSTRUCTIONS) return <Instructions />;\n    if (currentScreen === screens.DASHBOARD) return <Dashboard />;\n    return <Dropfiles />;\n  }\n\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <div className=\"App\">\n        {isLoading ? <Loading /> : null}\n        {this.getCurrentScreen()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isLoading: state.isLoading,\n    currentScreen: state.currentScreen\n  };\n}\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\n\nconst Root = ({ store }) => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default {\n  isLoading: false,\n  currentScreen: null,\n  currentReport: null,\n  error: null,\n  firstDrawer: { visible: false },\n  secondDrawer: { visible: false }\n};\n","import { combineReducers } from 'redux';\nimport * as Actions from './actions';\nimport initial from './initial';\n\nfunction isLoading(state = initial.isLoading, action) {\n  switch (action.type) {\n    case Actions.SET_LOADING:\n      return action.isLoading;\n    default:\n      return state;\n  }\n}\n\nfunction currentScreen(state = initial.currentScreen, action) {\n  switch (action.type) {\n    case Actions.SET_CURRENT_SCREEN:\n      return action.currentScreen;\n    default:\n      return state;\n  }\n}\n\n\nfunction currentReport(state = initial.currentReport, action) {\n  switch (action.type) {\n    case Actions.SET_CURRENT_REPORT:\n      return action.currentReport;\n    default:\n      return state;\n  }\n}\n\nfunction error(state = initial.error, action) {\n  switch (action.type) {\n    case Actions.SET_ERROR:\n      return action.error;\n    default:\n      return state;\n  }\n}\n\n// TODO: isolate in a separate reduce (maybe inside /plugins)\n// FB_MESSENGER\n\nfunction firstDrawer(state = initial.firstDrawer, action) {\n  switch (action.type) {\n    case Actions.SHOW_FIRST_DRAWER:\n      return { ...state, visible: true };\n    case Actions.HIDE_FIRST_DRAWER:\n      return { ...state, visible: false };\n    case Actions.SET_FIRST_DRAWER:\n      return {\n        visible: action.visible,\n        typeDrawer: action.typeDrawer,\n        filters: action.filters\n      };\n    default:\n      return state;\n  }\n}\n\nfunction secondDrawer(state = initial.secondDrawer, action) {\n  switch (action.type) {\n    case Actions.SHOW_SECOND_DRAWER:\n      return { ...state, visible: true };\n    case Actions.HIDE_SECOND_DRAWER:\n      return { ...state, visible: false };\n    case Actions.SET_SECOND_DRAWER:\n      return {\n        visible: action.visible,\n        typeDrawer: action.typeDrawer,\n        filters: action.filters\n      };\n    default:\n      return state;\n  }\n}\n\nexport default () =>\n  combineReducers({\n    isLoading,\n    currentReport,\n    error,\n    currentScreen,\n    firstDrawer,\n    secondDrawer\n  });\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport createRootReducer from '../reducers';\n\nconst rootReducer = createRootReducer();\nconst enhancer = applyMiddleware(thunk);\n\nfunction configureStore(initialState) {\n  return createStore(rootReducer, initialState, enhancer);\n}\n\nexport default configureStore;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport createRootReducer from '../reducers';\nimport * as actionCreators from '../actions';\n\nconst rootReducer = createRootReducer();\n\nconst configureStore = (initialState) => {\n  // Redux Configuration\n  const middleware = [];\n  const enhancers = [];\n\n  // Thunk Middleware\n  middleware.push(thunk);\n\n  // Logging Middleware\n  const logger = createLogger({\n    level: 'info',\n    collapsed: true\n  });\n\n  // Skip redux logs in console during the tests\n  if (process.env.NODE_ENV !== 'test') {\n    middleware.push(logger);\n  }\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Options: http://extension.remotedev.io/docs/API/Arguments.html\n        actionCreators\n      })\n    : compose;\n  /* eslint-enable no-underscore-dangle */\n\n  // Apply Middleware & Compose Enhancers\n  enhancers.push(applyMiddleware(...middleware));\n  const enhancer = composeEnhancers(...enhancers);\n\n  // Create Store\n  const store = createStore(rootReducer, initialState, enhancer);\n\n  if (module.hot) {\n    module.hot.accept(\n      '../reducers',\n      // eslint-disable-next-line global-require\n      () => store.replaceReducer(require('../reducers').default)\n    );\n  }\n\n  return store;\n};\n\nexport default configureStore;\n","import configureStoreDev from './configureStore.dev';\nimport configureStoreProd from './configureStore.prod';\n\nconst selectedConfigureStore =\n  process.env.NODE_ENV === 'production'\n    ? configureStoreProd\n    : configureStoreDev;\n\nexport default selectedConfigureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/Root';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './state/store/configureStore';\nimport { initWorker } from './utils/worker';\n\nimport 'antd/dist/antd.less';\nimport './index.css';\n\nconst store = configureStore();\ninitWorker();\n\n\nReactDOM.render(<Root store={store} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}